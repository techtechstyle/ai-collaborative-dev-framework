# Part 2: è¨­è¨ˆæŒ‡é‡

> **ã“ã®Partã§ã¯**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚ã«æ±ºã‚ã‚‹ã¹ããƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ§‹æˆã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦è§£èª¬ã—ã¾ã™ã€‚
> 
> **èª­ã‚€ã‚¿ã‚¤ãƒŸãƒ³ã‚°**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚ã€è¨­è¨ˆãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚

### ãƒ¬ãƒ™ãƒ«åˆ¥ã‚¬ã‚¤ãƒ‰

| ãƒ¬ãƒ™ãƒ« | ã“ã®Partã§èª­ã‚€ã¹ãã‚»ã‚¯ã‚·ãƒ§ãƒ³ |
|-------|---------------------------|
| **L1(åŸºç¤Ž)** | 7. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ã‚ºã€11. ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã€ã¾ã¨ã‚ |
| **L2(å®Ÿè·µ)** | L1 + 8. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åˆ†å‰²ã€9. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€10. åž‹è¨­è¨ˆã€12. ä½µç”¨ |
| **L3(æœ€é©åŒ–)** | å…¨ä½“(10. åž‹è¨­è¨ˆã®é«˜åº¦ãªéƒ¨åˆ†:Branded Typesã€zod SSoTå«ã‚€) |

### ã“ã®Partã¨å“²å­¦ã®éšŽå±¤æ§‹é€ 

| Level | å“²å­¦ | ã“ã®Partã§ã®å®Ÿè·µ |
|-------|------|-----------------|
| L0 ç›®çš„ | **æŒç¶šå¯èƒ½æ€§** | çŸ¥è­˜ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»åž‹ãƒ»æ§‹é€ ã«è“„ç©ã—ã€äººã«ä¾å­˜ã—ãªã„ |
| L1 ç’°å¢ƒ | **å¿ƒç†çš„å®‰å…¨æ€§** | æ˜Žç¢ºãªæ§‹é€ ã«ã‚ˆã‚Šã€Œã©ã“ã‚’è¦‹ã‚Œã°ã„ã„ã‹ã€ãŒã‚ã‹ã‚‹å®‰å¿ƒæ„Ÿ |
| L2 æ…‹åº¦ | **æ€¥ãŒã°å›žã‚Œ** | è¨­è¨ˆæ®µéšŽã§åž‹ã‚’å®šç¾©ã€ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§è¿·ã‚ãªã„æ§‹é€ ã‚’ä½œã‚‹ |
| L3 æ‰‹æ®µ | **ã‚·ãƒ³ãƒ—ãƒ«ã•** | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å°ã•ãåˆ†å‰²ã€åž‹ã§æ›–æ˜§ã•ã‚’æŽ’é™¤ |

### 3è¡Œã§è¨€ã†ã¨

1. **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å°ã•ãã€é–¢é€£ã™ã‚‹ã‚‚ã®ã¯è¿‘ãã«**
2. **1ãƒ•ã‚¡ã‚¤ãƒ«200-300è¡Œç›®å®‰ã€ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã§åˆ†å‰²**
3. **åž‹ã¯Claudeã¸ã®ä»•æ§˜æ›¸ â€” Branded Typesã€Resultåž‹ã€zodã§å®‰å…¨ã«**

> ðŸ’¡ ä»¥ä¸‹ã®è©³ç´°ã¯èª­ã¿é£›ã°ã—ã¦ã‚‚OKã€‚è¿·ã£ãŸã¨ãã«æˆ»ã£ã¦ãã¦ãã ã•ã„ã€‚

---

```
Part 2 ã®æµã‚Œ:
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ 7. ãƒ‰ã‚­ãƒ¥   â”‚ â”€â”€â†’ â”‚ 8. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«â”‚ â”€â”€â†’ â”‚ 9. ã‚¢ãƒ¼ã‚­   â”‚
  â”‚    ãƒ¡ãƒ³ãƒˆ   â”‚     â”‚    å˜ä½åˆ†å‰²  â”‚     â”‚    ãƒ†ã‚¯ãƒãƒ£ â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ 10. åž‹è¨­è¨ˆæŒ‡é‡  â”‚ â† NEW
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ 11. ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                  â”‚ 12. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£â”‚
                  â”‚     ã¨ã®ä½µç”¨    â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 7. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®é©åˆ‡ãªã‚µã‚¤ã‚ºã¨ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç† [L1]

### Claudeã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç‰¹æ€§

> ðŸ’¡ ä»¥ä¸‹ã®æ•°å€¤ã¯**å®Ÿè·µçš„ãªç›®å®‰**ã§ã™ã€‚Anthropicå…¬å¼ã®æŽ¨å¥¨å€¤ã§ã¯ãªãã€
> ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®çµŒé¨“å‰‡ã«åŸºã¥ã„ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç‰¹æ€§ã«å¿œã˜ã¦èª¿æ•´ã—ã¦ãã ã•ã„ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦                         â”‚
â”‚                                                                 â”‚
â”‚  æŠ€è¡“çš„é™ç•Œ     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  ã€œ200kãƒˆãƒ¼ã‚¯ãƒ³    â”‚
â”‚                 (Anthropicå…¬å¼:æ¨™æº–ãƒ—ãƒ©ãƒ³)                    â”‚
â”‚                                                                 â”‚
â”‚  å®Ÿç”¨çš„é™ç•Œ     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              ã€œ5ä¸‡æ–‡å­—         â”‚
â”‚                 (ã“ã‚Œä»¥ä¸Šã¯ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ä½Žä¸‹ã®å‚¾å‘)           â”‚
â”‚                                                                 â”‚
â”‚  æŽ¨å¥¨ç¯„å›²       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                      ã€œ3ä¸‡æ–‡å­—         â”‚
â”‚                 (1å›žã®ä¼šè©±ã§ã®åˆè¨ˆãƒ»ç›®å®‰)                      â”‚
â”‚                                                                 â”‚
â”‚  1ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                         ã€œ4,000æ–‡å­—       â”‚
â”‚                 (GitHub CopilotæŽ¨å¥¨ã«æº–æ‹ )                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¨®åˆ¥ã”ã¨ã®æŽ¨å¥¨ã‚µã‚¤ã‚º

| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¨®åˆ¥ | æŽ¨å¥¨æ–‡å­—æ•° | ãƒã‚¤ãƒ³ãƒˆ |
|-----------------|-----------|----------|
| CLAUDE.md | 1,000ã€œ3,000 | æ¯Žå›žèª­ã¾ã‚Œã‚‹ã€è»½é‡ã«(Boris Chernyæ°:ç´„2.5kãƒˆãƒ¼ã‚¯ãƒ³æŽ¨å¥¨) |
| å‚ç…§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ(1ãƒ•ã‚¡ã‚¤ãƒ«) | ã€œ4,000 | GitHub Copilotå…¬å¼æŽ¨å¥¨ã«æº–æ‹  |
| 1å›žã®ä¼šè©±ã§ã®èª­ã¿è¾¼ã¿åˆè¨ˆ | ã€œ30,000 | çµŒé¨“å‰‡(ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ä½Žä¸‹ã‚’é¿ã‘ã‚‹ç›®å®‰) |

> â€»ã€Œ1å›žã®ä¼šè©±ã§ã®èª­ã¿è¾¼ã¿åˆè¨ˆã€= CLAUDE.md + å‚ç…§æŒ‡ç¤ºã—ãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®åˆè¨ˆ
>
> ðŸ“š å‚è€ƒ: [GitHub Blog - Copilot Instructions Files](https://github.blog/ai-and-ml/unlocking-the-full-power-of-copilot-code-review-master-your-instructions-files/)
> "If the file is over 4000 characters long, prioritize shortening the file"

### Lost in the Middle å•é¡Œ

LLMã¯é•·ã„ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ã€Œä¸­é–“éƒ¨åˆ†ã€ã®æƒ…å ±ã‚’è¦‹è½ã¨ã—ã‚„ã™ã„ã¨ã„ã†ç ”ç©¶çµæžœãŒã‚ã‚Šã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è¨˜æ†¶ã®ä¿æŒåº¦                                  â”‚
â”‚                                                                 â”‚
â”‚  ä¿æŒåº¦                                                         â”‚
â”‚    â†‘                                                            â”‚
â”‚  é«˜ â”‚ â—‰                                           â—‹             â”‚
â”‚    â”‚   â—‰                                       â—‹                â”‚
â”‚    â”‚     â—‰                                   â—‹                  â”‚
â”‚    â”‚       â—‰                               â—‹                    â”‚
â”‚    â”‚         â–³   â–³   â–³   â–³   â–³   â–³   â–³                        â”‚
â”‚  ä½Ž â”‚           â–³       â–³       â–³                               â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ ä½ç½®          â”‚
â”‚        å…ˆé ­      ä¸­é–“éƒ¨åˆ†           æœ«å°¾                         â”‚
â”‚        â—Ž        â–³                â—‹                             â”‚
â”‚      ã‚ˆãè¦šãˆã‚‹  å¿˜ã‚Œã‚„ã™ã„      ã¾ã‚è¦šãˆã‚‹                      â”‚
â”‚                                                                 â”‚
â”‚  å¯¾ç­–: é‡è¦ãªæƒ…å ±ã¯å…ˆé ­ã‹æœ«å°¾ã«é…ç½®                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> ðŸ“š å‚è€ƒæ–‡çŒ®: Liu et al. (2023) "Lost in the Middle: How Language Models Use Long Contexts"
> https://arxiv.org/abs/2307.03172

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†æˆ¦ç•¥

#### ã„ã¤æ–°ã—ã„ä¼šè©±ã‚’å§‹ã‚ã‚‹ã‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              æ–°ã—ã„ä¼šè©±ã‚’å§‹ã‚ã‚‹ã¹ãã‚¿ã‚¤ãƒŸãƒ³ã‚°                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âœ… æ–°ã—ã„ä¼šè©±ã‚’å§‹ã‚ã‚‹                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  ãƒ»åˆ¥ã®æ©Ÿèƒ½/ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ä½œæ¥­ã«ç§»ã‚‹æ™‚                             â”‚
â”‚  ãƒ»ä¼šè©±ãŒé•·ãç¶šã„ãŸæ™‚(ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ä½Žä¸‹ã‚’æ„Ÿã˜ãŸã‚‰)            â”‚
â”‚  ãƒ»ClaudeãŒä»¥å‰ã®æŒ‡ç¤ºã¨çŸ›ç›¾ã™ã‚‹å›žç­”ã‚’ã—å§‹ã‚ãŸæ™‚                  â”‚
â”‚  ãƒ»å¤§ããªãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚’å§‹ã‚ã‚‹æ™‚                              â”‚
â”‚  ãƒ»æ—¥ã‚’ã¾ãŸã„ã§ä½œæ¥­ã‚’å†é–‹ã™ã‚‹æ™‚                                  â”‚
â”‚                                                                 â”‚
â”‚  âŒ åŒã˜ä¼šè©±ã‚’ç¶™ç¶šã™ã‚‹                                           â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  ãƒ»åŒã˜æ©Ÿèƒ½ã®å®Ÿè£…ã‚’ç¶™ç¶šä¸­                                        â”‚
â”‚  ãƒ»ã‚¨ãƒ©ãƒ¼ä¿®æ­£ã®ã‚¤ãƒ†ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸­                                  â”‚
â”‚  ãƒ»ç›´å‰ã®å®Ÿè£…ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆä½œæˆ                                  â”‚
â”‚  ãƒ»é–¢é€£ã™ã‚‹å°ã•ãªä¿®æ­£ã‚’é€£ç¶šã§è¡Œã†æ™‚                              â”‚
â”‚                                                                 â”‚
â”‚  ðŸ’¡ Claude Codeå…¬å¼: "/clear: Reset context between unrelated   â”‚
â”‚     tasks. Long sessions with irrelevant context can reduce     â”‚
â”‚     performance."                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ä¼šè©±ã‚’è·¨ã„ã§å¼•ãç¶™ãæƒ…å ±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  æƒ…å ±ã®å¼•ãç¶™ãŽæ–¹æ³•                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  å¼•ãç¶™ãæƒ…å ±            æ–¹æ³•                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€            â”€â”€â”€â”€                                   â”‚
â”‚  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š        â†’ CLAUDE.md ã«è¨˜è¼‰(å¸¸ã«å‚ç…§ã•ã‚Œã‚‹)   â”‚
â”‚  æ±ºå®šäº‹é …ãƒ»æ–¹é‡          â†’ CLAUDE.md ã¾ãŸã¯ docs/ ã«è¨˜éŒ²        â”‚
â”‚  ç¦æ­¢äº‹é …ãƒ»å­¦ã³          â†’ CLAUDE.md ã®ç¦æ­¢äº‹é …ã‚»ã‚¯ã‚·ãƒ§ãƒ³       â”‚
â”‚  ç¾åœ¨ã®ã‚¿ã‚¹ã‚¯çŠ¶æ³        â†’ æ–°ä¼šè©±ã®æœ€åˆã«æ˜Žç¤ºçš„ã«ä¼ãˆã‚‹         â”‚
â”‚  ç›´å‰ã®å®Ÿè£…å†…å®¹          â†’ è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¾ã›ã‚‹               â”‚
â”‚                                                                 â”‚
â”‚  æ–°ä¼šè©±é–‹å§‹æ™‚ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  ã€Œâ—‹â—‹æ©Ÿèƒ½ã®å®Ÿè£…ã‚’ç¶šã‘ã¾ã™ã€‚                                     â”‚
â”‚                                                                 â”‚
â”‚   å‰æ:                                                        â”‚
â”‚   ãƒ»CLAUDE.md ã‚’å‚ç…§ã—ã¦ãã ã•ã„                                 â”‚
â”‚   ãƒ»å‰å›žã€src/modules/auth/login.ts ã‚’å®Ÿè£…æ¸ˆã¿                  â”‚
â”‚   ãƒ»ä»Šå›ž:ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™                             â”‚
â”‚                                                                 â”‚
â”‚   ã¾ãš login.ts ã‚’èª­ã‚“ã§ã€å®Ÿè£…æ–¹é‡ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### é•·ã„ä¼šè©±ã§ã®å¯¾ç­–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                é•·ã„ä¼šè©±ã§ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç¶­æŒ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ä¼šè©±ãŒé•·ããªã£ãŸæ™‚ã®ç—‡çŠ¶:                                       â”‚
â”‚  ãƒ»ä»¥å‰æ±ºã‚ãŸå‘½åè¦å‰‡ã‚’å¿˜ã‚Œã‚‹                                    â”‚
â”‚  ãƒ»åŒã˜ã‚¨ãƒ©ãƒ¼ã‚’ç¹°ã‚Šè¿”ã™                                          â”‚
â”‚  ãƒ»çŸ›ç›¾ã—ãŸææ¡ˆã‚’ã™ã‚‹                                            â”‚
â”‚                                                                 â”‚
â”‚  å¯¾ç­–:                                                          â”‚
â”‚                                                                 â”‚
â”‚  1. å®šæœŸçš„ãªãƒªãƒžã‚¤ãƒ³ãƒ‰(10-15ã‚¿ãƒ¼ãƒ³ã”ã¨)                        â”‚
â”‚     ã€Œå¿µã®ãŸã‚ç¢ºèª:CLAUDE.md ã®å‘½åè¦å‰‡ã«å¾“ã£ã¦ã„ã¾ã™ã‹?ã€     â”‚
â”‚                                                                 â”‚
â”‚  2. é‡è¦ãªæ±ºå®šã®å³æ™‚è¨˜éŒ²                                         â”‚
â”‚     æ±ºå®š â†’ ã™ãã«CLAUDE.mdã«è¿½è¨˜ â†’ æ¬¡ã®æŒ‡ç¤º                      â”‚
â”‚                                                                 â”‚
â”‚  3. ã‚µãƒžãƒªãƒ¼ã®æŒ¿å…¥                                               â”‚
â”‚     ã€Œã“ã“ã¾ã§ã®å®Ÿè£…çŠ¶æ³:                                       â”‚
â”‚      âœ… User ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£                                        â”‚
â”‚      âœ… ãƒ­ã‚°ã‚¤ãƒ³API                                              â”‚
â”‚      ðŸ”„ ãƒ­ã‚°ã‚¢ã‚¦ãƒˆAPI(ä»Šã“ã“)                                  â”‚
â”‚      â¬œ ãƒˆãƒ¼ã‚¯ãƒ³ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã€                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŠ¹æžœçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

```
âŒ ã‚„ã‚ŠãŒã¡ãªå¤±æ•—:
  50ãƒšãƒ¼ã‚¸ã®è¦ä»¶å®šç¾©æ›¸ã‚’ã™ã¹ã¦ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å…¥ã‚Œã‚‹
  â†’ ãƒˆãƒ¼ã‚¯ãƒ³æ¶ˆè²»å¤§ã€é‡è¦ãªéƒ¨åˆ†ãŒåŸ‹ã‚‚ã‚Œã‚‹

âœ… åŠ¹æžœçš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ:
  CLAUDE.md(1-2ãƒšãƒ¼ã‚¸): å¸¸ã«å‚ç…§ã™ã‚‹æ ¸å¿ƒæƒ…å ±
  /docs/requirements.md: å¿…è¦æ™‚ã«ã€Œã“ã‚Œã‚’èª­ã‚“ã§ã€ã¨æŒ‡ç¤º
```

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã®ã‚³ã‚¹ãƒˆæœ€é©åŒ–

APIåˆ©ç”¨æ™‚ã¯ãƒˆãƒ¼ã‚¯ãƒ³æ•°ã«å¿œã˜ãŸèª²é‡‘ãŒç™ºç”Ÿã™ã‚‹ãŸã‚ã€ã‚³ã‚¹ãƒˆåŠ¹çŽ‡ã‚‚æ„è­˜ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ã‚³ã‚¹ãƒˆæœ€é©åŒ–ã®3åŽŸå‰‡                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–ã™ã‚‹                                    â”‚
â”‚     â†’ .claudeignore ã§ä¾å­˜é–¢ä¿‚ã‚„ãƒ“ãƒ«ãƒ‰æˆæžœç‰©ã‚’é™¤å¤–              â”‚
â”‚                                                                 â”‚
â”‚  2. å¿…è¦ãªæƒ…å ±ã ã‘ã‚’èª­ã¿è¾¼ã‚€                                    â”‚
â”‚     â†’ ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã§å‚ç…§ã€å…¨ä½“ã‚’ä¸€åº¦ã«èª­ã¿è¾¼ã¾ãªã„            â”‚
â”‚                                                                 â”‚
â”‚  3. CLAUDE.md ã‚’è»½é‡ã«ä¿ã¤                                      â”‚
â”‚     â†’ 3,000æ–‡å­—ä»¥ä¸‹ã€è©³ç´°ã¯åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åˆ†é›¢                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### .claudeignore ã®æ´»ç”¨

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã« `.claudeignore` ã‚’é…ç½®ã—ã€ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’é™¤å¤–:

```
# ä¾å­˜é–¢ä¿‚(å¤§é‡ã®ãƒ•ã‚¡ã‚¤ãƒ«)
node_modules/
vendor/
.venv/
__pycache__/

# ãƒ“ãƒ«ãƒ‰æˆæžœç‰©
dist/
build/
out/
*.min.js
*.min.css

# å¤§ããªãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
*.csv
*.xlsx
data/*.json

# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
*.log
logs/

# æ©Ÿå¯†æƒ…å ±(ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã‚‚é‡è¦)
.env*
secrets/
*.pem
*.key
```

#### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿è¾¼ã¿ã®å„ªå…ˆé †ä½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆèª­ã¿è¾¼ã¿ã®å„ªå…ˆé †ä½                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  å„ªå…ˆåº¦    å†…å®¹                      èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒŸãƒ³ã‚°         â”‚
â”‚  â”€â”€â”€â”€â”€â”€    â”€â”€â”€â”€                      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚                                                                 â”‚
â”‚  æœ€é«˜      CLAUDE.md                 å¸¸ã«(è‡ªå‹•)               â”‚
â”‚                                                                 â”‚
â”‚  é«˜        ä½œæ¥­å¯¾è±¡ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«        ã‚¿ã‚¹ã‚¯é–‹å§‹æ™‚               â”‚
â”‚            src/modules/auth/                                    â”‚
â”‚                                                                 â”‚
â”‚  ä¸­        é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«            å¿…è¦ã«å¿œã˜ã¦               â”‚
â”‚            src/modules/user/                                    â”‚
â”‚                                                                 â”‚
â”‚  ä½Ž        å…±é€šã‚³ãƒ¼ãƒ‰                å‚ç…§ãŒå¿…è¦ãªæ™‚ã®ã¿         â”‚
â”‚            src/shared/                                          â”‚
â”‚                                                                 â”‚
â”‚  é™¤å¤–      ä¾å­˜é–¢ä¿‚ãƒ»ãƒ“ãƒ«ãƒ‰æˆæžœç‰©    èª­ã¿è¾¼ã¾ãªã„               â”‚
â”‚            node_modules/, dist/                                 â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ã‚³ã‚¹ãƒˆæ„è­˜ã—ãŸæŒ‡ç¤ºã®å‡ºã—æ–¹

```
âŒ ã‚³ã‚¹ãƒˆãŒé«˜ã„æŒ‡ç¤º:
  ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’èª­ã‚“ã§ã€å•é¡ŒãŒãªã„ã‹ç¢ºèªã—ã¦ã€
  â†’ å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¿ã€å¤§é‡ã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¶ˆè²»

âœ… ã‚³ã‚¹ãƒˆã‚’æŠ‘ãˆãŸæŒ‡ç¤º:
  ã€Œsrc/modules/auth/ ã®ãƒ­ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã‚’ç¢ºèªã—ã¦ã€
  â†’ å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã¿èª­ã¿è¾¼ã¿
```

---

## 8. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåˆ†å‰² [L2]

### ãªãœãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ãŒåŠ¹æžœçš„ã‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   ä½œæ¥­å˜ä½ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå˜ä½ã®ä¸€è‡´                â”‚
â”‚                                                                 â”‚
â”‚  Claudeã¸ã®æŒ‡ç¤º              å¯¾å¿œã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ                â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€           â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  ã€Œèªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ã€   â†’   docs/modules/auth/                 â”‚
â”‚  ã€Œç ”ä¿®é€²æ—ã‚’ä½œã£ã¦ã€     â†’   docs/modules/training/             â”‚
â”‚  ã€Œãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½ã‚’è¿½åŠ ã€   â†’   docs/modules/report/               â”‚
â”‚                                                                 â”‚
â”‚  â†’ ã™ã¹ã¦ã€Œãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½ã€ã®ä½œæ¥­                                â”‚
â”‚  â†’ å¿…è¦ãªæƒ…å ±ã ã‘ã‚’æ­£ç¢ºã«å‚ç…§ã§ãã‚‹                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŽ¨å¥¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
/docs
â”œâ”€â”€ overview.md                  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“åƒ(ã€œ3,000æ–‡å­—)
â”‚
â””â”€â”€ /modules                     # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å˜ä½
    â”œâ”€â”€ /auth
    â”‚   â”œâ”€â”€ requirements.md      # è¦ä»¶(ã€œ10,000æ–‡å­—)
    â”‚   â”œâ”€â”€ api.md               # APIä»•æ§˜(ã€œ5,000æ–‡å­—)
    â”‚   â””â”€â”€ database.md          # ãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©(ã€œ3,000æ–‡å­—)
    â”‚
    â”œâ”€â”€ /training
    â”‚   â”œâ”€â”€ requirements.md
    â”‚   â”œâ”€â”€ api.md
    â”‚   â””â”€â”€ database.md
    â”‚
    â””â”€â”€ /progress
        â””â”€â”€ ...
```

### åˆ†å‰²ã®ç²’åº¦åˆ¤æ–­

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       åˆ†å‰²ç²’åº¦ã®ã‚¹ãƒšã‚¯ãƒˆãƒ©ãƒ                      â”‚
â”‚                                                                 â”‚
â”‚  ç²—ã™ãŽã‚‹              é©åˆ‡                ç´°ã‹ã™ãŽã‚‹           â”‚
â”‚     â†“                   â†“                    â†“                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚å…¨æ©Ÿèƒ½  â”‚        â”‚1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«â”‚        â”‚1ãƒœã‚¿ãƒ³ â”‚              â”‚
â”‚  â”‚20,000å­—â”‚        â”‚ã€œ10,000å­— â”‚        â”‚200å­—Ã—50â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚     â†“                   â†“                    â†“                  â”‚
â”‚  çµå±€å…¨éƒ¨          1æ©Ÿèƒ½=1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«     ç®¡ç†ãŒç…©é›‘             â”‚
â”‚  èª­ã‚€å¿…è¦          =3ã€œ5ãƒ•ã‚¡ã‚¤ãƒ«        å…¨ä½“åƒè¦‹ãˆãªã„          â”‚
â”‚                                                                 â”‚
â”‚                    â—Ž ã“ã“ã‚’ç›®æŒ‡ã™                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. AIå”åƒé–‹ç™ºã«é©ã—ãŸã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ [L2]

### Claudeã®ç‰¹æ€§ã‹ã‚‰é€†ç®—ã—ãŸæ¡ä»¶

| ç‰¹å¾´ | ç†ç”± |
|------|------|
| æ˜Žç¢ºãªå¢ƒç•Œ | ã€Œã“ã®ç¯„å›²ã‚’å®Ÿè£…ã—ã¦ã€ãŒæ˜Žç¢ºã«ãªã‚‹ |
| å˜æ–¹å‘ã®ä¾å­˜ | å½±éŸ¿ç¯„å›²ãŒäºˆæ¸¬ã—ã‚„ã™ã„ |
| å°ã•ãªå˜ä½ | 1å›žã®æŒ‡ç¤ºã§å®Œçµã§ãã‚‹ |
| åž‹ã«ã‚ˆã‚‹å¥‘ç´„ | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ˜Žç¤ºçš„ |
| ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ | æ¤œè¨¼ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—ãŒå›žã›ã‚‹ |

### æŽ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¦æ¨¡ã¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£                 â”‚
â”‚                                                                 â”‚
â”‚  è¦æ¨¡        æŽ¨å¥¨ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£                                  â”‚
â”‚  â”€â”€â”€â”€        â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚                                                                 â”‚
â”‚  å°è¦æ¨¡      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  å­¦ç¿’ç”¨      â”‚  Vertical Slice â”‚  æ©Ÿèƒ½å˜ä½ã§ç¸¦ã«åˆ†å‰²            â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                      â†“                                          â”‚
â”‚  ä¸­è¦æ¨¡      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  ãƒãƒ¼ãƒ       â”‚ Clean           â”‚  å±¤ã§åˆ†é›¢ã€ä¾å­˜ã‚’åˆ¶å¾¡          â”‚
â”‚              â”‚ Architecture    â”‚                                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â”‚                      â†“                                          â”‚
â”‚  å¤§è¦æ¨¡      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  è¤‡æ•°        â”‚ Modular Monolithâ”‚  ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œ +              â”‚
â”‚  ãƒ‰ãƒ¡ã‚¤ãƒ³    â”‚ + Clean Arch    â”‚  å±¤ã®åˆ†é›¢ã‚’ä½µç”¨                â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Claudeç‰¹æœ‰ã®æœ€é©åŒ–ãƒã‚¤ãƒ³ãƒˆ

| è¦³ç‚¹ | ä¸€èˆ¬çš„æœ€é©åŒ– | Claudeæœ€é©åŒ– |
|------|-------------|-------------|
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚º | è«–ç†çš„ã«ã¾ã¨ã‚ã‚‹ | ç‰©ç†çš„ã«åˆ†å‰²(300è¡Œä»¥ä¸‹) |
| åž‹å®šç¾© | é›†ç´„ã—ã¦ã‚‚OK | ä½¿ç”¨ç®‡æ‰€ã®è¿‘ãã«é…ç½® |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å…±æœ‰ãƒ•ã‚©ãƒ«ãƒ€ã«é›†ç´„ | æ©Ÿèƒ½ã®è¿‘ãã«é…ç½® |
| è¨­è¨ˆæ„å›³ | å£é ­ä¼é”OK | ã‚³ãƒ¡ãƒ³ãƒˆã‚„ADRã§æ˜Žç¤ºçš„ã«è¨˜éŒ² |

---

## 9.5 è¨­è¨ˆåŽŸå‰‡(SOLIDç­‰)ã®AIå”åƒé©ç”¨ [L2]

å¾“æ¥ã®ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢è¨­è¨ˆåŽŸå‰‡ã¯ã€AIå”åƒé–‹ç™ºã§ã‚‚æœ‰åŠ¹ã§ã™ã€‚
ãŸã ã—ã€AIå”åƒã®æ–‡è„ˆã§**å†è§£é‡ˆ**ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚Šå®Ÿè·µçš„ã«é©ç”¨ã§ãã¾ã™ã€‚

### ç–Žçµåˆã¨é«˜å‡é›† â€” ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆã®åŸºæœ¬

#### å®šç¾©

> **ç–Žçµåˆ(Loose Coupling)**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®ä¾å­˜ã‚’æœ€å°åŒ–ã™ã‚‹
> **é«˜å‡é›†(High Cohesion)**: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®é–¢é€£æ€§ã‚’æœ€å¤§åŒ–ã™ã‚‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                ç–Žçµåˆã¨é«˜å‡é›†ã®é–¢ä¿‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ç†æƒ³çš„ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ:                                        â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ç–Žçµåˆ    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚  â”‚ Module A â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ Module B â”‚                          â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚  (ä¾å­˜å°‘)   â”‚ â”Œâ”€â”€â”€â”€â”€â” â”‚                          â”‚
â”‚  â”‚ â”‚func1â”‚ â”‚             â”‚ â”‚func3â”‚ â”‚                          â”‚
â”‚  â”‚ â”‚func2â”‚ â”‚             â”‚ â”‚func4â”‚ â”‚                          â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚             â”‚ â””â”€â”€â”€â”€â”€â”˜ â”‚                          â”‚
â”‚  â”‚ é«˜å‡é›†  â”‚             â”‚ é«˜å‡é›†  â”‚                          â”‚
â”‚  â”‚(é–¢é€£å¼·) â”‚             â”‚(é–¢é€£å¼·) â”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIå”åƒã§ã®æ„ç¾©

| åŽŸå‰‡ | AIå”åƒã§ã®åŠ¹æžœ |
|------|---------------|
| **ç–Žçµåˆ** | ã‚¿ã‚¹ã‚¯åˆ†å‰²ãŒå®¹æ˜“ã€ç‹¬ç«‹ã—ã¦æ¤œè¨¼å¯èƒ½ã€ä¸¦åˆ—ä½œæ¥­ãŒå¯èƒ½ |
| **é«˜å‡é›†** | 1ã‚¿ã‚¹ã‚¯=1ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãŒæ˜Žç¢ºã€AIã®ç†è§£ãŒå®¹æ˜“ |

#### å®Ÿè·µãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä»–ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãªã—ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‹?(ç–Žçµåˆ)
- [ ] ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…ã®é–¢æ•°ã¯åŒã˜ç›®çš„ã‚’æŒã¤ã‹?(é«˜å‡é›†)
- [ ] ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“ã®ä¾å­˜ã¯ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’é€šã—ã¦ã„ã‚‹ã‹?(ç–Žçµåˆ)
- [ ] å¤‰æ›´æ™‚ã«å½±éŸ¿ç¯„å›²ãŒé™å®šã•ã‚Œã‚‹ã‹?(ç–Žçµåˆ)

### é–¢å¿ƒã®åˆ†é›¢(Separation of Concerns)

#### å®šç¾©

> **å®šç¾©**: ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ç•°ãªã‚‹é–¢å¿ƒ(è²¬å‹™)ã”ã¨ã«åˆ†é›¢ã—ã€
> å„éƒ¨åˆ†ãŒ1ã¤ã®é–¢å¿ƒã®ã¿ã‚’æ‰±ã†ã‚ˆã†ã«ã™ã‚‹è¨­è¨ˆåŽŸå‰‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  é–¢å¿ƒã®åˆ†é›¢ã®ä¾‹                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âŒ é–¢å¿ƒãŒæ··åœ¨(æ‚ªã„ä¾‹)                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  function processOrder(order) {                                 â”‚
â”‚    // æ¤œè¨¼ã€è¨ˆç®—ã€DBä¿å­˜ã€ãƒ¡ãƒ¼ãƒ«é€ä¿¡ãŒæ··åœ¨                      â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â”‚  âœ… é–¢å¿ƒã‚’åˆ†é›¢(è‰¯ã„ä¾‹)                                        â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚
â”‚  validateOrder(order)     // æ¤œè¨¼ã®é–¢å¿ƒ                         â”‚
â”‚  calculateTotal(order)    // è¨ˆç®—ã®é–¢å¿ƒ                         â”‚
â”‚  saveOrder(order)         // æ°¸ç¶šåŒ–ã®é–¢å¿ƒ                       â”‚
â”‚  notifyCustomer(order)    // é€šçŸ¥ã®é–¢å¿ƒ                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIå”åƒã§ã®é©ç”¨

| å ´é¢ | é–¢å¿ƒã®åˆ†é›¢ã®å®Ÿè·µ |
|------|-----------------|
| **ã‚¿ã‚¹ã‚¯åˆ†è§£** | 1ã‚¿ã‚¹ã‚¯ = 1é–¢å¿ƒ(æ¤œè¨¼ã€å®Ÿè£…ã€ãƒ†ã‚¹ãƒˆã‚’åˆ†é›¢) |
| **ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ** | 1ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ = 1ç›®çš„(è¤‡æ•°ã®ç›®çš„ã‚’æ··ãœãªã„) |
| **ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ** | 1ãƒ•ã‚¡ã‚¤ãƒ« = 1è²¬å‹™(S2åŽŸå‰‡ã¨åŒç¾©) |

> **S2ã€Œ1ãƒ•ã‚¡ã‚¤ãƒ«=1è²¬å‹™ã€ã¨ã®é–¢ä¿‚**: é–¢å¿ƒã®åˆ†é›¢ã¯ã€S2åŽŸå‰‡ã®ç†è«–çš„åŸºç›¤ã§ã™ã€‚

### ä¾å­˜æ€§é€†è»¢åŽŸå‰‡(DIP: Dependency Inversion Principle)

#### å®šç¾©

> **å®šç¾©**: ä¸Šä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä¸‹ä½ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã™ã¹ãã§ãªã„ã€‚
> ä¸¡è€…ã¯æŠ½è±¡(ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹)ã«ä¾å­˜ã™ã¹ãã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ä¾å­˜æ€§é€†è»¢ã®å›³è§£                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âŒ å¾“æ¥(ä¸Šä½ãŒä¸‹ä½ã«ä¾å­˜)                                    â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  OrderService â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º MySQLRepository                       â”‚
â”‚  (å…·ä½“çš„ãªå®Ÿè£…ã«ä¾å­˜)                                         â”‚
â”‚                                                                 â”‚
â”‚  âœ… DIPé©ç”¨å¾Œ(ä¸¡è€…ãŒæŠ½è±¡ã«ä¾å­˜)                               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                              â”‚
â”‚  OrderService â”€â”€â”€â–º IRepository â—„â”€â”€â”€ MySQLRepository             â”‚
â”‚  (ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ä¾å­˜)                                     â”‚
â”‚                                                                 â”‚
â”‚  åŠ¹æžœ: å®Ÿè£…ã‚’å·®ã—æ›¿ãˆå¯èƒ½(ãƒ†ã‚¹ãƒˆæ™‚ã«ãƒ¢ãƒƒã‚¯ã€æœ¬ç•ªã§MySQL)      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIå”åƒã§ã®æ„ç¾©

| è¦³ç‚¹ | DIPã®åŠ¹æžœ |
|------|----------|
| **ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§** | ãƒ¢ãƒƒã‚¯ã«å·®ã—æ›¿ãˆã¦å˜ä½“ãƒ†ã‚¹ãƒˆå¯èƒ½ |
| **ã‚¿ã‚¹ã‚¯åˆ†é›¢** | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©ã¨å®Ÿè£…ã‚’åˆ¥ã‚¿ã‚¹ã‚¯ã« |
| **ä¸¦åˆ—ä½œæ¥­** | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãŒæ±ºã¾ã‚Œã°å®Ÿè£…ã¯ä¸¦åˆ—å¯èƒ½ |

#### TypeScriptã§ã®å®Ÿè·µ

```typescript
// ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å®šç¾©(æŠ½è±¡)
interface UserRepository {
  findById(id: UserId): Promise<User | null>;
  save(user: User): Promise<void>;
}

// æœ¬ç•ªå®Ÿè£…
class PostgresUserRepository implements UserRepository {
  async findById(id: UserId): Promise<User | null> { /* ... */ }
  async save(user: User): Promise<void> { /* ... */ }
}

// ãƒ†ã‚¹ãƒˆç”¨ãƒ¢ãƒƒã‚¯
class InMemoryUserRepository implements UserRepository {
  private users: Map<string, User> = new Map();
  async findById(id: UserId): Promise<User | null> {
    return this.users.get(id) ?? null;
  }
  async save(user: User): Promise<void> {
    this.users.set(user.id, user);
  }
}
```

### ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢åŽŸå‰‡(ISP: Interface Segregation Principle)

#### å®šç¾©

> **å®šç¾©**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¯ã€ä½¿ç”¨ã—ãªã„ãƒ¡ã‚½ãƒƒãƒ‰ã¸ã®ä¾å­˜ã‚’å¼·åˆ¶ã•ã‚Œã‚‹ã¹ãã§ãªã„ã€‚
> å¤§ããªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚ˆã‚Šã€å°ã•ãç‰¹åŒ–ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å„ªå…ˆã™ã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢ã®ä¾‹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âŒ è‚¥å¤§åŒ–ã—ãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚  interface Worker {                                             â”‚
â”‚    work(): void;                                                â”‚
â”‚    eat(): void;                                                 â”‚
â”‚    sleep(): void;                                               â”‚
â”‚  }                                                              â”‚
â”‚  // ãƒ­ãƒœãƒƒãƒˆã¯ eat() ã¨ sleep() ã‚’å®Ÿè£…ã§ããªã„                  â”‚
â”‚                                                                 â”‚
â”‚  âœ… åˆ†é›¢ã•ã‚ŒãŸã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚
â”‚  interface Workable { work(): void; }                           â”‚
â”‚  interface Eatable { eat(): void; }                             â”‚
â”‚  interface Sleepable { sleep(): void; }                         â”‚
â”‚  // å¿…è¦ãªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®ã¿å®Ÿè£…                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIå”åƒã§ã®é©ç”¨

- **åž‹è¨­è¨ˆ**: å¤§ããªåž‹ã‚ˆã‚Šã€åˆæˆå¯èƒ½ãªå°ã•ãªåž‹
- **APIè¨­è¨ˆ**: æ±Žç”¨APIã‚ˆã‚Šã€ç›®çš„ç‰¹åŒ–API
- **ã‚¿ã‚¹ã‚¯åˆ†è§£**: å¤§ããªã‚¿ã‚¹ã‚¯ã‚ˆã‚Šã€å˜ä¸€ç›®çš„ã®ã‚¿ã‚¹ã‚¯

### é–‹æ”¾é–‰éŽ–åŽŸå‰‡(OCP: Open/Closed Principle)

#### å®šç¾©

> **å®šç¾©**: ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã¯æ‹¡å¼µã«å¯¾ã—ã¦é–‹ã‹ã‚Œã€ä¿®æ­£ã«å¯¾ã—ã¦é–‰ã˜ã¦ã„ã‚‹ã¹ãã€‚
> æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã›ãšã«ã€æ–°æ©Ÿèƒ½ã‚’è¿½åŠ ã§ãã‚‹è¨­è¨ˆã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  é–‹æ”¾é–‰éŽ–åŽŸå‰‡ã®é©ç”¨                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  âŒ OCPé•å(æ–°ã—ã„åž‹ã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ä¿®æ­£ãŒå¿…è¦)               â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                      â”‚
â”‚  function calculateArea(shape: Shape) {                         â”‚
â”‚    if (shape.type === 'circle') return ...;                     â”‚
â”‚    if (shape.type === 'square') return ...;                     â”‚
â”‚    // æ–°ã—ã„å›³å½¢ã‚’è¿½åŠ ã™ã‚‹ãŸã³ã«ã“ã®é–¢æ•°ã‚’ä¿®æ­£                  â”‚
â”‚  }                                                              â”‚
â”‚                                                                 â”‚
â”‚  âœ… OCPæº–æ‹ (æ‹¡å¼µã§å¯¾å¿œ)                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚
â”‚  interface Shape {                                              â”‚
â”‚    calculateArea(): number;                                     â”‚
â”‚  }                                                              â”‚
â”‚  class Circle implements Shape { calculateArea() { ... } }      â”‚
â”‚  class Square implements Shape { calculateArea() { ... } }      â”‚
â”‚  // æ–°ã—ã„å›³å½¢ã¯ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ ã™ã‚‹ã ã‘ã€æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¯å¤‰æ›´ä¸è¦      â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### AIå”åƒã§ã®æ„ç¾©

| è¦³ç‚¹ | OCPã®åŠ¹æžœ |
|------|----------|
| **å¤‰æ›´ã®å±€æ‰€åŒ–** | æ–°æ©Ÿèƒ½è¿½åŠ æ™‚ã«æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã‚’è§¦ã‚‰ãªã„ |
| **ãƒ†ã‚¹ãƒˆã®å®‰å®š** | æ—¢å­˜ãƒ†ã‚¹ãƒˆãŒå£Šã‚Œã«ãã„ |
| **ä¸¦åˆ—ä½œæ¥­** | æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã¨æ–°æ©Ÿèƒ½ã‚’ç‹¬ç«‹ã—ã¦é–‹ç™ºå¯èƒ½ |

### SOLIDåŽŸå‰‡ã¨ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åŽŸå‰‡ã®å¯¾å¿œ

| SOLIDåŽŸå‰‡ | ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯åŽŸå‰‡ | é–¢ä¿‚ |
|-----------|-------------------|------|
| SRP(å˜ä¸€è²¬ä»») | S2ã€Œ1ãƒ•ã‚¡ã‚¤ãƒ«=1è²¬å‹™ã€ | åŒç¾© |
| OCP(é–‹æ”¾é–‰éŽ–) | R2ã€Œãƒ—ãƒ­ã‚»ã‚¹ã®å¯é€†æ€§ã€ | å¤‰æ›´ã—ã‚„ã™ã„è¨­è¨ˆ |
| LSP(ãƒªã‚¹ã‚³ãƒ•ç½®æ›) | A4ã€Œè¦ç´„ã®åŽ³å®ˆã€ | ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹éµå®ˆ |
| ISP(ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹åˆ†é›¢) | S1ã€Œ1æ–‡1æ¤œè¨¼ã€ | å°ã•ãåˆ†å‰² |
| DIP(ä¾å­˜æ€§é€†è»¢) | ç–Žçµåˆè¨­è¨ˆ | ãƒ†ã‚¹ãƒˆå®¹æ˜“æ€§ |

---

## 10. åž‹è¨­è¨ˆæŒ‡é‡:åž‹ã§è¨­è¨ˆã‚’è¡¨ç¾ã™ã‚‹ [L2]

### æ ¸å¿ƒ:åž‹ã¯ã€Œä»•æ§˜æ›¸ã€ã§ã‚ã‚Šã€Œè¨­è¨ˆå›³ã€

åž‹ã¯å˜ãªã‚‹ã‚¨ãƒ©ãƒ¼æ¤œå‡ºãƒ„ãƒ¼ãƒ«ã§ã¯ãªã„ã€‚
**åž‹ã¯Claudeã«å¯¾ã™ã‚‹æ˜Žç¢ºãªä»•æ§˜æ›¸**ã§ã‚ã‚Šã€æ›–æ˜§ãªè‡ªç„¶è¨€èªžã‚ˆã‚Šæ­£ç¢ºã«æ„å›³ã‚’ä¼ãˆã‚‹ã€‚
ã•ã‚‰ã«é€²ã‚“ã§ã€**åž‹ã§è¨­è¨ˆãã®ã‚‚ã®ã‚’è¡¨ç¾ã™ã‚‹**ã“ã¨ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒè¨­è¨ˆé•åã‚’æ¤œå‡ºã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã€‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åž‹ã®4ã¤ã®å½¹å‰²                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  1. Claudeã¸ã®ä»•æ§˜ä¼é”                                          â”‚
â”‚     â†’ æ›–æ˜§ãªè‡ªç„¶è¨€èªžã‚ˆã‚Šã€åž‹å®šç¾©ã§æ„å›³ã‚’æ­£ç¢ºã«ä¼ãˆã‚‹             â”‚
â”‚                                                                 â”‚
â”‚  2. å¹»è¦šã®æ¤œå‡º                                                  â”‚
â”‚     â†’ å­˜åœ¨ã—ãªã„APIã‚’ç”Ÿæˆã—ãŸã‚‰åž‹ã‚¨ãƒ©ãƒ¼ã§å³åº§ã«æ¤œå‡º             â”‚
â”‚                                                                 â”‚
â”‚  3. è¨­è¨ˆã®è¡¨ç¾                                                  â”‚
â”‚     â†’ çŠ¶æ…‹é·ç§»ã€ä¸å¤‰æ€§ã€å¢ƒç•Œã‚’åž‹ã§å®šç¾©ã—ã€é•åã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚æ¤œå‡º â”‚
â”‚                                                                 â”‚
â”‚  4. å®Ÿè¡Œå‰ã®æ¤œè¨¼                                                â”‚
â”‚     â†’ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«ãƒã‚°ã‚’ç™ºè¦‹ã€å®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ã‚’é˜²ã              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åž‹è¨­è¨ˆã®åŽŸå‰‡:ã€Œåž‹ã§è¡¨ç¾ã§ãã‚‹ã“ã¨ã¯åž‹ã§è¡¨ç¾ã™ã‚‹ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              åž‹è¨­è¨ˆã®ãƒ¬ãƒ™ãƒ«                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Level 1: ã‚¨ãƒ©ãƒ¼æ¤œå‡º                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  ã€Œåž‹ã‚¨ãƒ©ãƒ¼ã§ãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã€                                    â”‚
â”‚  â†’ åŸºæœ¬çš„ãªåž‹ä»˜ã‘ã€anyç¦æ­¢                                      â”‚
â”‚                                                                 â”‚
â”‚  Level 2: ä»•æ§˜ã®æ˜Žç¤º                                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  ã€Œåž‹å®šç¾©ã‚’è¦‹ã‚Œã°ä»•æ§˜ãŒã‚ã‹ã‚‹ã€                                  â”‚
â”‚  â†’ Branded Typesã€Resultåž‹ã€Discriminated Union                 â”‚
â”‚                                                                 â”‚
â”‚  Level 3: è¨­è¨ˆã®è¡¨ç¾  â˜… ç›®æŒ‡ã™ãƒ¬ãƒ™ãƒ«                            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚
â”‚  ã€Œåž‹ã§è¨­è¨ˆã‚’å¼·åˆ¶ã—ã€é•åã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã€                  â”‚
â”‚  â†’ ä¸å¤‰æ€§ã€åž‹ã®ç‹­ã‚ã€çŠ¶æ…‹é·ç§»ã®åˆ¶ç´„                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åž‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### ãƒ‘ã‚¿ãƒ¼ãƒ³1: Branded Types(IDã®å–ã‚Šé•ãˆé˜²æ­¢)

ç•°ãªã‚‹ç¨®é¡žã®IDã‚’åŒã˜`string`åž‹ã§æ‰±ã†ã¨ã€å¼•æ•°ã®é †åºãƒŸã‚¹ãŒã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã§ããªã„ã€‚

```typescript
// âŒ å±é™º:ã™ã¹ã¦stringåž‹
function assignUser(orderId: string, userId: string) { }
assignUser(userId, orderId)  // å¼•æ•°ã®é †åºãƒŸã‚¹ â†’ å®Ÿè¡Œæ™‚ã¾ã§æ°—ã¥ã‹ãªã„

// âœ… å®‰å…¨:å°‚ç”¨ã®åž‹(Branded Type)
type OrderId = string & { readonly __brand: 'OrderId' }
type UserId = string & { readonly __brand: 'UserId' }

function assignUser(orderId: OrderId, userId: UserId) { }
assignUser(userId, orderId)  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼!
```

**ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°ã®ä¾‹:**

```typescript
function createUserId(id: string): UserId {
  // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ å¯èƒ½
  if (!id.match(/^user_/)) {
    throw new Error('Invalid UserId format')
  }
  return id as UserId
}
```

#### ãƒ‘ã‚¿ãƒ¼ãƒ³2: Discriminated Unions(çŠ¶æ…‹ã®ç¶²ç¾…çš„å‡¦ç†)

çŠ¶æ…‹ã‚’æŒã¤ãƒ‡ãƒ¼ã‚¿ã¯ã€Discriminated Unions(åˆ¤åˆ¥å¯èƒ½ãªUnionåž‹)ã§è¡¨ç¾ã™ã‚‹ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€ã™ã¹ã¦ã®çŠ¶æ…‹ã‚’å‡¦ç†ã—ãªã„ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã€‚

```typescript
type AsyncState<T> = 
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: T }
  | { status: 'error'; error: Error }

function render(state: AsyncState<User>): string {
  switch (state.status) {
    case 'idle': return 'å¾…æ©Ÿä¸­'
    case 'loading': return 'èª­ã¿è¾¼ã¿ä¸­'
    case 'success': return state.data.name  // dataã®åž‹ãŒç¢ºå®š
    case 'error': return state.error.message
    // ã™ã¹ã¦ã®ã‚±ãƒ¼ã‚¹ã‚’å‡¦ç†ã—ãªã„ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
  }
}
```

**å®Ÿè·µä¾‹:ç ”ä¿®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®åž‹è¨­è¨ˆ**

```typescript
// âŒ å±é™º:ã™ã¹ã¦ã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒoptional
type Training = {
  status: string
  startDate?: Date
  currentModule?: number
  completedAt?: Date
  score?: number
}
// â†’ completedã§ãªã„ã®ã«scoreã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¦ã—ã¾ã†

// âœ… å®‰å…¨:çŠ¶æ…‹ã”ã¨ã«åˆ©ç”¨å¯èƒ½ãªãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’åž‹ã§åˆ¶ç´„
type Training = 
  | { status: 'draft' }
  | { status: 'scheduled'; startDate: Date }
  | { status: 'in_progress'; startDate: Date; currentModule: number }
  | { status: 'completed'; startDate: Date; completedAt: Date; score: number }

function getScore(training: Training): number | null {
  // training.score ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ã‚¨ãƒ©ãƒ¼(å…¨çŠ¶æ…‹ã§å­˜åœ¨ã—ãªã„)
  
  if (training.status === 'completed') {
    return training.score  // âœ… ã“ã“ã§ã®ã¿scoreåˆ©ç”¨å¯èƒ½
  }
  return null
}
```

**ãªãœã“ã‚ŒãŒã€Œè¨­è¨ˆã‚’è¡¨ç¾ã™ã‚‹ã€ã®ã‹:**
- `draft`çŠ¶æ…‹ã§`score`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
- çŠ¶æ…‹é·ç§»ã®ãƒ«ãƒ¼ãƒ«ãŒåž‹ã§å¼·åˆ¶ã•ã‚Œã‚‹
- ClaudeãŒä¸æ­£ãªçŠ¶æ…‹ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç”Ÿæˆã—ãŸã‚‰å³åº§ã«æ¤œå‡º

#### ãƒ‘ã‚¿ãƒ¼ãƒ³3: Resultåž‹(ä¾‹å¤–ã‚’æŠ•ã’ãªã„)

ä¾‹å¤–(throw)ã¯åž‹ã‚·ã‚¹ãƒ†ãƒ ã§è¿½è·¡ã§ããªã„ã€‚Resultåž‹ã‚’ä½¿ã†ã“ã¨ã§ã€ã‚¨ãƒ©ãƒ¼ã‚‚æˆ»ã‚Šå€¤ã¨ã—ã¦æ‰±ã„ã€å‘¼ã³å‡ºã—å´ã«å‡¦ç†ã‚’å¼·åˆ¶ã™ã‚‹ã€‚

```typescript
// Resultåž‹ã®å®šç¾©
type Result<T, E> = 
  | { ok: true; value: T }
  | { ok: false; error: E }

// ã‚¨ãƒ©ãƒ¼åž‹ã‚’Discriminated Unionã§å®šç¾©
type LoginError = 
  | { type: 'InvalidCredentials' }
  | { type: 'AccountLocked'; unlocksAt: Date }
  | { type: 'NetworkError'; retryAfter: number }

// æˆ»ã‚Šå€¤ã§ã‚¨ãƒ©ãƒ¼ã‚’è¡¨ç¾
async function login(
  email: string, 
  password: string
): Promise<Result<User, LoginError>> {
  // æˆåŠŸæ™‚: { ok: true, value: user }
  // å¤±æ•—æ™‚: { ok: false, error: { type: 'InvalidCredentials' } }
}

// å‘¼ã³å‡ºã—å´ã¯å¿…ãšã‚¨ãƒ©ãƒ¼ã‚’å‡¦ç†ã™ã‚‹
const result = await login(email, password)
if (!result.ok) {
  switch (result.error.type) {
    case 'InvalidCredentials':
      return 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒé–“é•ã£ã¦ã„ã¾ã™'
    case 'AccountLocked':
      return `ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒãƒ­ãƒƒã‚¯ã•ã‚Œã¦ã„ã¾ã™ã€‚${result.error.unlocksAt}ä»¥é™ã«å†è©¦è¡Œã—ã¦ãã ã•ã„`
    case 'NetworkError':
      return `ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã€‚${result.error.retryAfter}ç§’å¾Œã«å†è©¦è¡Œã—ã¦ãã ã•ã„`
  }
}
// ã“ã“ã§ã¯result.ok === trueãŒç¢ºå®šã€result.valueã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
```

### zodã«ã‚ˆã‚‹ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼:Single Source of Truth

TypeScriptã®åž‹ã¯**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®ã¿**å­˜åœ¨ã—ã€å®Ÿè¡Œæ™‚ã«ã¯æ¶ˆãˆã‚‹ã€‚
å¤–éƒ¨ã‹ã‚‰ã®å…¥åŠ›(APIã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›ã€ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿)ã¯ã€åž‹ã§å®‰å…¨æ€§ã‚’ä¿è¨¼ã§ããªã„ã€‚

**zodã®æ ¸å¿ƒçš„ä¾¡å€¤:åž‹ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã€Œå˜ä¸€çœŸå®Ÿæºã€**

```typescript
// âŒ å±é™º:åž‹ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒåˆ†é›¢(äºŒé‡å®šç¾©)
interface User {
  id: string
  email: string
  role: 'admin' | 'user'
}

function validateUser(data: unknown): boolean {
  // åž‹å®šç¾©ã¨åˆ¥ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’æ›¸ã â†’ ä¹–é›¢ãƒªã‚¹ã‚¯
  return typeof data.id === 'string' && ...
}

// âœ… å®‰å…¨:zodã‚¹ã‚­ãƒ¼ãƒžãŒå”¯ä¸€ã®å®šç¾©æº
import { z } from 'zod'

const UserSchema = z.object({
  id: z.string().uuid(),
  email: z.string().email(),
  role: z.enum(['admin', 'user']),
})

// åž‹ã‚’è‡ªå‹•ç”Ÿæˆ(ã‚¹ã‚­ãƒ¼ãƒžã¨å¸¸ã«ä¸€è‡´)
type User = z.infer<typeof UserSchema>

// ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ã‚¹ã‚­ãƒ¼ãƒžã‹ã‚‰(äºŒé‡å®šç¾©ãªã—)
const user = UserSchema.parse(data)
```

**ãªãœSingle Source of TruthãŒé‡è¦ã‹:**

| å•é¡Œ | åˆ†é›¢ã•ã‚Œã¦ã„ã‚‹å ´åˆ | zodã§çµ±ä¸€ã—ãŸå ´åˆ |
|------|-------------------|------------------|
| åž‹ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¹–é›¢ | èµ·ãã‚‹(æ‰‹å‹•ã§åŒæœŸå¿…è¦) | èµ·ããªã„(è‡ªå‹•ç”Ÿæˆ) |
| å¤‰æ›´æ™‚ã®ä¿®æ­£ç®‡æ‰€ | 2ç®‡æ‰€ä»¥ä¸Š | 1ç®‡æ‰€ã®ã¿ |
| Claudeã¸ã®æŒ‡ç¤º | ã€Œåž‹ã¨ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä¸¡æ–¹æ›´æ–°ã—ã¦ã€ | ã€Œã‚¹ã‚­ãƒ¼ãƒžã‚’æ›´æ–°ã—ã¦ã€ |

**zodã®é«˜åº¦ãªãƒ‘ã‚¿ãƒ¼ãƒ³:**

```typescript
// å¤‰æ›ä»˜ãã‚¹ã‚­ãƒ¼ãƒž(æ–‡å­—åˆ—â†’æ—¥ä»˜)
const EventSchema = z.object({
  name: z.string(),
  date: z.string().transform((s) => new Date(s)),
})

// æ¡ä»¶ä»˜ããƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
const PaymentSchema = z.discriminatedUnion('method', [
  z.object({ method: z.literal('card'), cardNumber: z.string() }),
  z.object({ method: z.literal('bank'), accountNumber: z.string() }),
])

// éƒ¨åˆ†çš„ãªã‚¹ã‚­ãƒ¼ãƒžã®å†åˆ©ç”¨
const BaseUserSchema = z.object({ name: z.string(), email: z.string().email() })
const AdminSchema = BaseUserSchema.extend({ permissions: z.array(z.string()) })
```

**CLAUDE.mdã¸ã®è¨˜è¼‰ä¾‹:**

```markdown
## åž‹å®šç¾©ãƒ«ãƒ¼ãƒ«
- å¤–éƒ¨å…¥åŠ›ã‚’å—ã‘ã‚‹åž‹ã¯å¿…ãšzodã‚¹ã‚­ãƒ¼ãƒžã§å®šç¾©
- `type X = z.infer<typeof XSchema>` ã§åž‹ã‚’ç”Ÿæˆ
- interfaceã®ç›´æŽ¥å®šç¾©ã¯å†…éƒ¨åž‹ã®ã¿è¨±å¯
```

### Claudeã¸ã®åž‹æŒ‡ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³

åž‹ã‚’æ˜Žç¤ºçš„ã«ä¼ãˆã‚‹ã“ã¨ã§ã€Claudeã®å‡ºåŠ›å“è³ªãŒå‘ä¸Šã™ã‚‹ã€‚

```
ã€Œä»¥ä¸‹ã®åž‹å®šç¾©ã«åŽ³å¯†ã«å¾“ã£ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚

ã€åž‹å®šç¾©ã€‘
type UserId = string & { readonly __brand: 'UserId' }
type TrainingId = string & { readonly __brand: 'TrainingId' }

type CreateUserInput = {
  readonly email: string
  readonly name: string
}

type CreateUserError = 
  | { type: 'EmailAlreadyExists' }
  | { type: 'ValidationError'; fields: string[] }

type Result<T, E> = 
  | { ok: true; value: T }
  | { ok: false; error: E }

type CreateUserResult = Result<User, CreateUserError>

ã€ãƒ«ãƒ¼ãƒ«ã€‘
- anyã¯çµ¶å¯¾ã«ä½¿ç”¨ç¦æ­¢
- æˆ»ã‚Šå€¤åž‹ã‚’å¿…ãšæ˜Žç¤º
- ä¾‹å¤–ã‚’throwã›ãšã€Resultåž‹ã§è¿”ã™
- å¼•æ•°ã«ã¯readonlyã‚’ä»˜ã‘ã‚‹

å®Ÿè£…å¾Œã€typecheckã‚’å®Ÿè¡Œã—ã¦çµæžœã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€
```

### tsconfig.json æŽ¨å¥¨è¨­å®š

åŽ³æ ¼ãªåž‹ãƒã‚§ãƒƒã‚¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§ã€ClaudeãŒç”Ÿæˆã—ãŸã‚³ãƒ¼ãƒ‰ã®å•é¡Œã‚’æ—©æœŸã«æ¤œå‡ºã§ãã‚‹ã€‚

```json
{
  "compilerOptions": {
    // å¿…é ˆ:åŽ³æ ¼ãƒ¢ãƒ¼ãƒ‰
    "strict": true,
    
    // é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹ã®å®‰å…¨æ€§(arr[0]ãŒT | undefinedã«ãªã‚‹)
    "noUncheckedIndexedAccess": true,
    
    // optional propertyã®åŽ³æ ¼åŒ–
    "exactOptionalPropertyTypes": true,
    
    // æˆ»ã‚Šå€¤ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
    "noImplicitReturns": true,
    
    // switchæ–‡ã®ç¶²ç¾…æ€§ãƒã‚§ãƒƒã‚¯
    "noFallthroughCasesInSwitch": true
  }
}
```

### ESLint åž‹é–¢é€£ãƒ«ãƒ¼ãƒ«

```json
{
  "rules": {
    "@typescript-eslint/no-explicit-any": "error",
    "@typescript-eslint/explicit-function-return-type": "error",
    "@typescript-eslint/no-unsafe-assignment": "error",
    "@typescript-eslint/no-unsafe-member-access": "error",
    "@typescript-eslint/no-unsafe-return": "error"
  }
}
```

### åž‹è¨­è¨ˆã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

| è¦³ç‚¹ | ãƒã‚§ãƒƒã‚¯é …ç›® |
|------|-------------|
| IDåž‹ | Branded Typeã§å–ã‚Šé•ãˆã‚’é˜²æ­¢ã—ã¦ã„ã‚‹ã‹ |
| çŠ¶æ…‹ | Discriminated Unionã§ç¶²ç¾…çš„ã«å‡¦ç†ã—ã¦ã„ã‚‹ã‹ |
| ã‚¨ãƒ©ãƒ¼ | Resultåž‹ã§æˆ»ã‚Šå€¤ã¨ã—ã¦è¡¨ç¾ã—ã¦ã„ã‚‹ã‹ |
| å¤–éƒ¨å…¥åŠ› | zodã§ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ã—ã¦ã„ã‚‹ã‹ |
| è¨­å®š | tsconfig.jsonã§strict: trueã‹ |

### åž‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠžãƒžãƒˆãƒªã‚¯ã‚¹

ã©ã®å ´é¢ã§ã©ã®åž‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ä½¿ã†ã¹ãã‹ã€åˆ¤æ–­ã«è¿·ã†ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚
ä»¥ä¸‹ã®ãƒžãƒˆãƒªã‚¯ã‚¹ã‚’ä½¿ã£ã¦ã€é©åˆ‡ãªãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’é¸æŠžã—ã¦ãã ã•ã„ã€‚

#### ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§ã¨ç”¨é€”

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ä¸»ãªç”¨é€” | è§£æ±ºã™ã‚‹å•é¡Œ |
|---------|---------|-------------|
| **Branded Type** | IDã€å˜ä½ä»˜ãå€¤ | åŒã˜ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–åž‹ã®å–ã‚Šé•ãˆ |
| **Discriminated Union** | çŠ¶æ…‹ç®¡ç†ã€ã‚¤ãƒ™ãƒ³ãƒˆ | çŠ¶æ…‹ã”ã¨ã®å‡¦ç†ã®ç¶²ç¾…æ€§ |
| **Resultåž‹** | ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | ä¾‹å¤–ã®è¦‹è½ã¨ã—ã€ã‚¨ãƒ©ãƒ¼åž‹ã®æ˜Žç¤º |
| **zod** | å¤–éƒ¨å…¥åŠ›æ¤œè¨¼ | ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã§ã®åž‹å®‰å…¨æ€§ |
| **readonly** | ä¸å¤‰æ€§ä¿è¨¼ | æ„å›³ã—ãªã„å¤‰æ›´ã®é˜²æ­¢ |
| **åž‹ã‚¬ãƒ¼ãƒ‰** | åž‹ã®ç‹­ã‚ | unknown/any ã‹ã‚‰ã®å®‰å…¨ãªå¤‰æ› |

#### é¸æŠžãƒžãƒˆãƒªã‚¯ã‚¹:ã€Œä½•ã‚’ä½œã‚‹ã‹ã€Ã—ã€Œã©ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                åž‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³é¸æŠžãƒžãƒˆãƒªã‚¯ã‚¹                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  ä½œã‚‹ã‚‚ã®              æŽ¨å¥¨ãƒ‘ã‚¿ãƒ¼ãƒ³                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                            â”‚
â”‚                                                                 â”‚
â”‚  ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã®ID      â†’ Branded Type                           â”‚
â”‚  ä¾‹: UserId, OrderId     å–ã‚Šé•ãˆã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡º            â”‚
â”‚                                                                 â”‚
â”‚  å˜ä½ä»˜ãã®å€¤          â†’ Branded Type                           â”‚
â”‚  ä¾‹: Yen, Dollar, Kg     ç•°ãªã‚‹å˜ä½ã®æ¼”ç®—ã‚’é˜²æ­¢                  â”‚
â”‚                                                                 â”‚
â”‚  ç”»é¢/å‡¦ç†ã®çŠ¶æ…‹       â†’ Discriminated Union                    â”‚
â”‚  ä¾‹: loading/success     switchæ–‡ã§ç¶²ç¾…çš„ã«å‡¦ç†                  â”‚
â”‚                                                                 â”‚
â”‚  ã‚¤ãƒ™ãƒ³ãƒˆ/ã‚¢ã‚¯ã‚·ãƒ§ãƒ³   â†’ Discriminated Union                    â”‚
â”‚  ä¾‹: Created/Updated     ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ã®åž‹å®‰å…¨æ€§              â”‚
â”‚                                                                 â”‚
â”‚  é–¢æ•°ã®æˆ»ã‚Šå€¤(å¤±æ•—å¯èƒ½)â†’ Resultåž‹                             â”‚
â”‚  ä¾‹: æ¤œç´¢ã€ä¿å­˜           ã‚¨ãƒ©ãƒ¼ã‚’æ¡ã‚Šã¤ã¶ã•ãªã„                  â”‚
â”‚                                                                 â”‚
â”‚  APIå…¥åŠ›/ãƒ¬ã‚¹ãƒãƒ³ã‚¹    â†’ zod + z.infer                          â”‚
â”‚  ä¾‹: ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£     ãƒ©ãƒ³ã‚¿ã‚¤ãƒ æ¤œè¨¼ + åž‹ç”Ÿæˆ                 â”‚
â”‚                                                                 â”‚
â”‚  ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›          â†’ zod + z.infer                          â”‚
â”‚  ä¾‹: ãƒ¦ãƒ¼ã‚¶ãƒ¼å…¥åŠ›         ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã¨åž‹ã®ä¸€å…ƒç®¡ç†            â”‚
â”‚                                                                 â”‚
â”‚  è¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ      â†’ as const + readonly                    â”‚
â”‚  ä¾‹: config, constants   ä¸å¤‰æ€§ã‚’ä¿è¨¼                            â”‚
â”‚                                                                 â”‚
â”‚  å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®åž‹    â†’ åž‹ã‚¬ãƒ¼ãƒ‰ + unknown                      â”‚
â”‚  ä¾‹: JSON.parseçµæžœ      å®‰å…¨ã«åž‹ã‚’ç‹­ã‚ã‚‹                         â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### åˆ¤æ–­ãƒ•ãƒ­ãƒ¼ãƒãƒ£ãƒ¼ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                åž‹è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ åˆ¤æ–­ãƒ•ãƒ­ãƒ¼                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  Q1: å¤–éƒ¨ã‹ã‚‰ã®å…¥åŠ›ã‹?(APIã€ãƒ•ã‚©ãƒ¼ãƒ ã€ãƒ•ã‚¡ã‚¤ãƒ«)               â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€ Yes â†’ zod ã‚’ä½¿ã†                                        â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€ No â†“                                                    â”‚
â”‚                                                                 â”‚
â”‚  Q2: å¤±æ•—ã™ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ã‹?(æ¤œç´¢ã€ä¿å­˜ã€å¤‰æ›)                â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€ Yes â†’ Resultåž‹ ã‚’ä½¿ã†                                   â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€ No â†“                                                    â”‚
â”‚                                                                 â”‚
â”‚  Q3: è¤‡æ•°ã®çŠ¶æ…‹ã‚’æŒã¤ã‹?(loading/success/error ãªã©)          â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€ Yes â†’ Discriminated Union ã‚’ä½¿ã†                        â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€ No â†“                                                    â”‚
â”‚                                                                 â”‚
â”‚  Q4: åŒã˜åž‹ã ãŒæ„å‘³ãŒé•ã†ã‹?(UserId vs OrderId)               â”‚
â”‚      â”‚                                                          â”‚
â”‚      â”œâ”€ Yes â†’ Branded Type ã‚’ä½¿ã†                               â”‚
â”‚      â”‚                                                          â”‚
â”‚      â””â”€ No â†’ é€šå¸¸ã®åž‹å®šç¾©ã§OK                                   â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### çµ„ã¿åˆã‚ã›ãƒ‘ã‚¿ãƒ¼ãƒ³

å®Ÿéš›ã®é–‹ç™ºã§ã¯ã€è¤‡æ•°ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚

**ä¾‹1: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ**

```typescript
// zod(å…¥åŠ›æ¤œè¨¼)+ Resultåž‹(ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°)+ Branded Type(ID)

const CreateUserInputSchema = z.object({
  email: z.string().email(),
  name: z.string().min(1),
})
type CreateUserInput = z.infer<typeof CreateUserInputSchema>

type CreateUserError = 
  | { type: 'EmailExists' }
  | { type: 'ValidationError'; message: string }

type UserId = string & { readonly __brand: 'UserId' }

async function createUser(
  input: CreateUserInput
): Promise<Result<UserId, CreateUserError>> {
  // å®Ÿè£…
}
```

**ä¾‹2: çŠ¶æ…‹ç®¡ç†**

```typescript
// Discriminated Union(çŠ¶æ…‹)+ Resultåž‹(ãƒ‡ãƒ¼ã‚¿å–å¾—)

type FetchState<T> = 
  | { status: 'idle' }
  | { status: 'loading' }
  | { status: 'success'; data: T }
  | { status: 'error'; error: Error }

// Resultåž‹ã§ãƒ‡ãƒ¼ã‚¿å–å¾—
async function fetchUser(id: UserId): Promise<Result<User, FetchError>> {
  // å®Ÿè£…
}

// çŠ¶æ…‹æ›´æ–°
function updateState(result: Result<User, FetchError>): FetchState<User> {
  if (result.ok) {
    return { status: 'success', data: result.value }
  } else {
    return { status: 'error', error: result.error }
  }
}
```

#### ã‚ˆãã‚ã‚‹è³ªå•

| è³ªå• | å›žç­” |
|------|------|
| Branded Typeã¯å…¨ã¦ã®IDã«å¿…è¦? | å–ã‚Šé•ãˆãƒªã‚¹ã‚¯ãŒã‚ã‚‹ã‚‚ã®ã«é™å®šã€‚1ç¨®é¡žã—ã‹IDãŒãªã„å°è¦æ¨¡ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ä¸è¦ |
| zodã¯å†…éƒ¨ã®åž‹ã«ã‚‚ä½¿ã†? | å¤–éƒ¨å…¥åŠ›ã®ã¿ã€‚å†…éƒ¨ã®åž‹å®šç¾©ã¯interface/typeã§ååˆ† |
| Resultåž‹ã¨try-catchã®ä½¿ã„åˆ†ã‘ã¯? | äºˆæœŸã•ã‚Œã‚‹ã‚¨ãƒ©ãƒ¼â†’Resultåž‹ã€äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼â†’try-catch |
| å…¨ã¦ã®Unionåž‹ã«discriminatorãŒå¿…è¦? | å‡¦ç†åˆ†å²ãŒå¿…è¦ãªå ´åˆã®ã¿ã€‚å˜ç´”ãª `string | null` ã«ã¯ä¸è¦ |

> ðŸ’¡ ãƒ‘ã‚¿ãƒ¼ãƒ³ã®é¸æŠžã«è¿·ã£ãŸã‚‰ã€ã¾ãšã€Œä½•ã‚’é˜²ãŽãŸã„ã‹ã€ã‚’æ˜Žç¢ºã«ã—ã¦ãã ã•ã„ã€‚
> é˜²ãŽãŸã„ãƒã‚°ãŒãªã„ãªã‚‰ã€ã‚·ãƒ³ãƒ—ãƒ«ãªåž‹å®šç¾©ã§ååˆ†ã§ã™ã€‚

### åž‹ã®ç‹­ã‚(Narrowing):å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹ã®å¼·åˆ¶

ClaudeãŒç”Ÿæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§æœ€ã‚‚å¤šã„ãƒŸã‚¹ã®ä¸€ã¤ãŒã€**é©åˆ‡ãªåž‹ãƒã‚§ãƒƒã‚¯ã®æ¬ å¦‚**ã€‚
åž‹ã®ç‹­ã‚(Narrowing)ã‚’ç†è§£ã—ã€CLAUDE.mdã«æ˜Žè¨˜ã™ã‚‹ã“ã¨ã§é˜²æ­¢ã§ãã‚‹ã€‚

```typescript
// âŒ å±é™º:nullãƒã‚§ãƒƒã‚¯ãªã—
function greet(user: User | null): string {
  return `Hello, ${user.name}`  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼(strictãƒ¢ãƒ¼ãƒ‰)
}

// âœ… å®‰å…¨:åž‹ã®ç‹­ã‚
function greet(user: User | null): string {
  if (user === null) {
    return 'Hello, Guest'
  }
  return `Hello, ${user.name}`  // ã“ã“ã§ã¯Useråž‹ã«ç‹­ã¾ã£ã¦ã„ã‚‹
}
```

**åž‹ã®ç‹­ã‚ãƒ‘ã‚¿ãƒ¼ãƒ³ä¸€è¦§:**

| ãƒ‘ã‚¿ãƒ¼ãƒ³ | ç”¨é€” | ä¾‹ |
|---------|------|-----|
| `=== null` / `!== null` | null/undefinedãƒã‚§ãƒƒã‚¯ | `if (x !== null)` |
| `typeof` | ãƒ—ãƒªãƒŸãƒ†ã‚£ãƒ–åž‹ã®åˆ¤åˆ¥ | `if (typeof x === 'string')` |
| `in` æ¼”ç®—å­ | ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å­˜åœ¨ç¢ºèª | `if ('name' in x)` |
| `instanceof` | ã‚¯ãƒ©ã‚¹ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®åˆ¤åˆ¥ | `if (x instanceof Date)` |
| Discriminated Union | ã‚¿ã‚°ã«ã‚ˆã‚‹åˆ¤åˆ¥ | `if (x.status === 'success')` |
| `Array.isArray` | é…åˆ—åˆ¤åˆ¥ | `if (Array.isArray(x))` |
| ã‚«ã‚¹ã‚¿ãƒ åž‹ã‚¬ãƒ¼ãƒ‰ | è¤‡é›‘ãªåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ | `if (isUser(x))` |

**ã‚«ã‚¹ã‚¿ãƒ åž‹ã‚¬ãƒ¼ãƒ‰ã®ä¾‹:**

```typescript
// åž‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°(æˆ»ã‚Šå€¤ãŒ `x is Type` å½¢å¼)
function isUser(x: unknown): x is User {
  return (
    typeof x === 'object' &&
    x !== null &&
    'id' in x &&
    'email' in x
  )
}

// ä½¿ç”¨ä¾‹
function processData(data: unknown): void {
  if (isUser(data)) {
    console.log(data.email)  // âœ… Useråž‹ã¨ã—ã¦æ‰±ãˆã‚‹
  }
}
```

**CLAUDE.mdã¸ã®è¨˜è¼‰ä¾‹:**

```markdown
## Type Safety Rules
- null/undefinedã®å¯èƒ½æ€§ãŒã‚ã‚‹å€¤ã¯å¿…ãšãƒã‚§ãƒƒã‚¯ã—ã¦ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹
- é…åˆ—ã®è¦ç´ ã‚¢ã‚¯ã‚»ã‚¹å¾Œã¯undefinedãƒã‚§ãƒƒã‚¯å¿…é ˆ
- Discriminated Unionã¯switchæ–‡ã§ç¶²ç¾…çš„ã«å‡¦ç†
- unknownã‹ã‚‰ã®å¤‰æ›ã¯åž‹ã‚¬ãƒ¼ãƒ‰é–¢æ•°ã‚’ä½¿ç”¨
```

### ä¸å¤‰æ€§(Immutability):æ„å›³ã—ãªã„å¤‰æ›´ã‚’é˜²ã

ClaudeãŒç”Ÿæˆã™ã‚‹ã‚³ãƒ¼ãƒ‰ã§ã€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„é…åˆ—ã‚’æ„å›³ã›ãšå¤‰æ›´ã—ã¦ã—ã¾ã†ãƒã‚°ãŒç™ºç”Ÿã—ã‚„ã™ã„ã€‚
**readonlyã‚’æ´»ç”¨**ã™ã‚‹ã“ã¨ã§ã€å¤‰æ›´ã‚’åž‹ãƒ¬ãƒ™ãƒ«ã§ç¦æ­¢ã§ãã‚‹ã€‚

```typescript
// âŒ å±é™º:ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªåž‹
type User = {
  name: string
  roles: string[]
}

function addRole(user: User, role: string): void {
  user.roles.push(role)  // å…ƒã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å¤‰æ›´!
}

// âœ… å®‰å…¨:ã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ãªåž‹
type User = {
  readonly name: string
  readonly roles: readonly string[]
}

function addRole(user: User, role: string): User {
  return {
    ...user,
    roles: [...user.roles, role]  // æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã™
  }
}
```

**æ·±ã„ä¸å¤‰æ€§(DeepReadonly):**

```typescript
// å†å¸°çš„ã«readonlyã‚’é©ç”¨
type DeepReadonly<T> = {
  readonly [P in keyof T]: T[P] extends object
    â€” DeepReadonly<T[P]>
    : T[P]
}

type Config = DeepReadonly<{
  database: {
    host: string
    port: number
  }
}>

const config: Config = { database: { host: 'localhost', port: 5432 } }
config.database.port = 3000  // ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼!
```

**Readonly ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£åž‹:**

| åž‹ | ç”¨é€” |
|-----|------|
| `Readonly<T>` | æµ…ã„ä¸å¤‰æ€§(1éšŽå±¤ã®ã¿) |
| `ReadonlyArray<T>` | é…åˆ—ã®ä¸å¤‰æ€§ |
| `as const` | ãƒªãƒ†ãƒ©ãƒ«åž‹ã¨ã—ã¦æŽ¨è«–(æœ€ã‚‚åŽ³æ ¼) |
| `DeepReadonly<T>` | æ·±ã„ä¸å¤‰æ€§(è‡ªä½œã¾ãŸã¯ãƒ©ã‚¤ãƒ–ãƒ©ãƒª) |

### `as const`:ãƒªãƒ†ãƒ©ãƒ«åž‹ã®å¨åŠ›

`as const`ã‚’ä½¿ã†ã¨ã€å€¤ãŒãƒªãƒ†ãƒ©ãƒ«åž‹ã¨ã—ã¦æŽ¨è«–ã•ã‚Œã€ã‚ˆã‚ŠåŽ³æ ¼ãªåž‹ãƒã‚§ãƒƒã‚¯ãŒå¯èƒ½ã«ãªã‚‹ã€‚

```typescript
// âŒ åž‹ãŒåºƒãŒã‚‹
const config = {
  mode: 'production',
  features: ['auth', 'api']
}
// Ã¥Å¾â€¹: { mode: string; features: string[] }

// âœ… åž‹ãŒç‹­ã¾ã‚‹
const config = {
  mode: 'production',
  features: ['auth', 'api']
} as const
// Ã¥Å¾â€¹: { readonly mode: 'production'; readonly features: readonly ['auth', 'api'] }
```

**`as const`ã®åŠ¹æžœ:**

| è¦³ç‚¹ | `as const`ãªã— | `as const`ã‚ã‚Š |
|------|---------------|----------------|
| æ–‡å­—åˆ— | `string` | ãƒªãƒ†ãƒ©ãƒ«åž‹(`'production'`) |
| é…åˆ— | `string[]` | ã‚¿ãƒ—ãƒ«åž‹(`readonly ['auth', 'api']`) |
| ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ | å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒåºƒã„åž‹ | å„ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒreadonly + ãƒªãƒ†ãƒ©ãƒ« |

**Claudeã¸ã®æŒ‡ç¤ºã§ã®æ´»ç”¨:**

```
ã€Œè¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¯ `as const` ã‚’ä»˜ã‘ã¦å®šç¾©ã—ã¦ãã ã•ã„ã€‚
 ã“ã‚Œã«ã‚ˆã‚Šã€èª¤ã£ãŸå€¤ã®ä»£å…¥ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«æ¤œå‡ºã§ãã¾ã™ã€‚ã€
```

### åž‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³(as)ã®å±é™ºæ€§

åž‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³(`as`)ã¯åž‹ã‚·ã‚¹ãƒ†ãƒ ã‚’ã€Œé¨™ã™ã€è¡Œç‚ºã€‚
ClaudeãŒ `as any` ã‚„ `as SomeType` ã‚’å¤šç”¨ã—ãŸã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã—ãŸã‚‰ã€è¨­è¨ˆã«å•é¡ŒãŒã‚ã‚‹å¯èƒ½æ€§ãŒé«˜ã„ã€‚

```typescript
// âŒ å±é™º:åž‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ã§åž‹ãƒã‚§ãƒƒã‚¯ã‚’å›žé¿
const user = data as User  // dataãŒUseråž‹ã§ã‚ã‚‹ä¿è¨¼ãŒãªã„

// âŒ ç‰¹ã«å±é™º:anyçµŒç”±ã®ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³
const user = data as any as User  // ä½•ã§ã‚‚é€šã£ã¦ã—ã¾ã†

// âœ… å®‰å…¨:åž‹ã‚¬ãƒ¼ãƒ‰ã§æ¤œè¨¼ã—ã¦ã‹ã‚‰ä½¿ç”¨
if (isUser(data)) {
  const user = data  // åž‹ã‚¬ãƒ¼ãƒ‰ã‚’é€šéŽã—ãŸã®ã§å®‰å…¨
}

// âœ… å®‰å…¨:zodã§æ¤œè¨¼
const user = UserSchema.parse(data)  // å®Ÿè¡Œæ™‚ã«æ¤œè¨¼
```

**åž‹ã‚¢ã‚µãƒ¼ã‚·ãƒ§ãƒ³ãŒè¨±å®¹ã•ã‚Œã‚‹ã‚±ãƒ¼ã‚¹:**

| ã‚±ãƒ¼ã‚¹ | ä¾‹ | ç†ç”± |
|--------|-----|------|
| DOMæ“ä½œ | `document.getElementById('x') as HTMLInputElement` | é–‹ç™ºè€…ãŒè¦ç´ ã®åž‹ã‚’çŸ¥ã£ã¦ã„ã‚‹ |
| ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ | `mockFunction as jest.Mock` | ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ¢ãƒƒã‚¯ |
| ãƒ•ã‚¡ã‚¯ãƒˆãƒªé–¢æ•°å†… | `return id as UserId` | Branded Typeä½œæˆæ™‚ |

**CLAUDE.mdã¸ã®è¨˜è¼‰:**

```markdown
## ç¦æ­¢äº‹é …
- `as any` ã®ä½¿ç”¨ã¯çµ¶å¯¾ç¦æ­¢
- `as Type` ã¯åž‹ã‚¬ãƒ¼ãƒ‰ã¾ãŸã¯zodæ¤œè¨¼ã®å¾Œã®ã¿è¨±å¯
- åž‹ã‚¨ãƒ©ãƒ¼ã‚’ `as` ã§å›žé¿ã™ã‚‹ã®ã§ã¯ãªãã€è¨­è¨ˆã‚’è¦‹ç›´ã™
```

### `noUncheckedIndexedAccess`:é…åˆ—ã‚¢ã‚¯ã‚»ã‚¹ã®å®‰å…¨æ€§

ã“ã®è¨­å®šã¯**æœ€ã‚‚é‡è¦ãªtsconfigè¨­å®šã®ä¸€ã¤**ã ãŒã€è¦‹è½ã¨ã•ã‚ŒãŒã¡ã€‚

```typescript
const users = ['Alice', 'Bob']

// noUncheckedIndexedAccess: false(ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
const first = users[0]  // åž‹: string(å±é™º!)
const tenth = users[10]  // åž‹: string(å­˜åœ¨ã—ãªã„ã®ã«!)

// noUncheckedIndexedAccess: true
const first = users[0]  // Ã¥Å¾â€¹: string | undefined
const tenth = users[10]  // Ã¥Å¾â€¹: string | undefined

// ä½¿ç”¨æ™‚ã«ãƒã‚§ãƒƒã‚¯ãŒå¿…é ˆã«ãªã‚‹
if (first !== undefined) {
  console.log(first.toUpperCase())  // âœ… å®‰å…¨
}
```

**ãªãœé‡è¦ã‹:**
- Claudeã¯é…åˆ—ã®å¢ƒç•Œãƒã‚§ãƒƒã‚¯ã‚’å¿˜ã‚Œã‚„ã™ã„
- `users[0]`ãŒå¸¸ã«å­˜åœ¨ã™ã‚‹å‰æã§ã‚³ãƒ¼ãƒ‰ã‚’ç”Ÿæˆã™ã‚‹
- ã“ã®è¨­å®šã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã«å¼·åˆ¶çš„ã«ãƒã‚§ãƒƒã‚¯ã•ã›ã‚‹

**ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ã«ã‚‚é©ç”¨:**

```typescript
const scores: Record<string, number> = { alice: 100 }

// noUncheckedIndexedAccess: true
const bobScore = scores['bob']  // Ã¥Å¾â€¹: number | undefined
```

---

## 11. ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³(Colocation) [L1]

### åŸºæœ¬æ¦‚å¿µ

```
Colocation = Co(ä¸€ç·’ã«)+ Location(é…ç½®)
åŽŸå‰‡: é–¢é€£ã™ã‚‹ã‚‚ã®ã¯ç‰©ç†çš„ã«è¿‘ãã«é…ç½®ã™ã‚‹
```

### å¾“æ¥åž‹ vs ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âŒ å¾“æ¥åž‹(ç¨®é¡žåˆ¥é…ç½®)                                         â”‚
â”‚                                                                 â”‚
â”‚  src/                                                           â”‚
â”‚  â”œâ”€â”€ controllers/                                               â”‚
â”‚  â”‚   â””â”€â”€ trainingController.ts    â”€â”                           â”‚
â”‚  â”œâ”€â”€ services/                      â”‚                           â”‚
â”‚  â”‚   â””â”€â”€ trainingService.ts       â”€â”¼â”€ 5ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’       â”‚
â”‚  â”œâ”€â”€ repositories/                  â”‚   è¡Œãæ¥ã™ã‚‹å¿…è¦ãŒã‚ã‚‹     â”‚
â”‚  â”‚   â””â”€â”€ trainingRepository.ts    â”€â”¤                           â”‚
â”‚  â””â”€â”€ tests/                         â”‚                           â”‚
â”‚      â””â”€â”€ trainingService.test.ts  â”€â”˜                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  âœ… ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³(æ©Ÿèƒ½åˆ¥é…ç½®)                                 â”‚
â”‚                                                                 â”‚
â”‚  src/                                                           â”‚
â”‚  â””â”€â”€ modules/                                                   â”‚
â”‚      â””â”€â”€ training/                â”€â”                           â”‚
â”‚          â”œâ”€â”€ training.controller.tsâ”‚                           â”‚
â”‚          â”œâ”€â”€ training.service.ts   â”œâ”€ 1ã¤ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§å®Œçµ   â”‚
â”‚          â”œâ”€â”€ training.repository.tsâ”‚                           â”‚
â”‚          â”œâ”€â”€ training.types.ts     â”‚                           â”‚
â”‚          â””â”€â”€ training.test.ts     â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é©ç”¨ãƒ¬ãƒ™ãƒ«

| ãƒ¬ãƒ™ãƒ« | å†…å®¹ |
|--------|------|
| ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€  | æ©Ÿèƒ½å˜ä½ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚°ãƒ«ãƒ¼ãƒ—åŒ– |
| ãƒ†ã‚¹ãƒˆé…ç½® | å®Ÿè£…ãƒ•ã‚¡ã‚¤ãƒ«ã®éš£ã«ãƒ†ã‚¹ãƒˆã‚’é…ç½® |
| åž‹å®šç¾© | ä½¿ç”¨ç®‡æ‰€ã®è¿‘ãã«åž‹ã‚’å®šç¾© |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | æ©Ÿèƒ½ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã«READMEé…ç½® |

### index.ts ã«ã‚ˆã‚‹å…¬é–‹APIåˆ¶å¾¡

```typescript
// src/modules/training/index.ts

// å…¬é–‹ã™ã‚‹ã‚‚ã®(ä»–ã®æ©Ÿèƒ½ã‹ã‚‰ä½¿ãˆã‚‹)
export { TrainingService } from './training.service'
export type { Training } from './training.types'

// éžå…¬é–‹(ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å†…éƒ¨ã®ã¿)
// - TrainingRepository
// - å†…éƒ¨ã®ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
```

---

## 12. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä½µç”¨ [L2]

### ä¸¡è€…ã®é–¢ä¿‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³                 â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£     â”‚      â”‚   ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³     â”‚          â”‚
â”‚  â”‚                     â”‚      â”‚                     â”‚          â”‚
â”‚  â”‚  ã€Œä½•ã‚’ã€ã€Œãªãœã€    â”‚      â”‚  ã€Œã©ã“ã«ã€é…ç½®     â”‚          â”‚
â”‚  â”‚   åˆ†ã‘ã‚‹ã‹          â”‚      â”‚   ã™ã‚‹ã‹            â”‚          â”‚
â”‚  â”‚                     â”‚      â”‚                     â”‚          â”‚
â”‚  â”‚  â†’ è«–ç†çš„ãªå¢ƒç•Œ     â”‚      â”‚  â†’ ç‰©ç†çš„ãªæ§‹é€      â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚             â”‚                            â”‚                      â”‚
â”‚             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                          â†“                                      â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚              â”‚       ä½µç”¨           â”‚                          â”‚
â”‚              â”‚                       â”‚                          â”‚
â”‚              â”‚ è«–ç†çš„ã«æ­£ã—ãã€      â”‚                          â”‚
â”‚              â”‚ ç‰©ç†çš„ã«ã‚‚æ‰±ã„ã‚„ã™ã„  â”‚                          â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### çµ±åˆè¨­è¨ˆä¾‹(Modular Monolith + Clean Architecture + ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³)

```
src/
â””â”€â”€ modules/
    â””â”€â”€ training/                    # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«å¢ƒç•Œ(ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
        â”œâ”€â”€ README.md                # ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«èª¬æ˜Ž
        â”œâ”€â”€ domain/                  # Clean Architectureå±¤
        â”‚   â”œâ”€â”€ entities/
        â”‚   â”‚   â”œâ”€â”€ Training.ts
        â”‚   â”‚   â””â”€â”€ Training.test.ts # ãƒ†ã‚¹ãƒˆéš£æŽ¥(ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
        â”‚   â””â”€â”€ repositories/
        â”‚       â””â”€â”€ ITrainingRepository.ts
        â”œâ”€â”€ application/
        â”‚   â””â”€â”€ use-cases/
        â”‚       â”œâ”€â”€ CreateTraining.ts
        â”‚       â””â”€â”€ CreateTraining.test.ts
        â”œâ”€â”€ infrastructure/
        â”‚   â””â”€â”€ repositories/
        â”‚       â””â”€â”€ TrainingRepository.ts
        â”œâ”€â”€ training.types.ts        # åž‹å®šç¾©(ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³)
        â””â”€â”€ index.ts                 # å…¬é–‹API
```

### ä½µç”¨æ™‚ã®ãƒ«ãƒ¼ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä½µç”¨æ™‚ã®3ã¤ã®ãƒ«ãƒ¼ãƒ«                         â”‚
â”‚                                                                 â”‚
â”‚  1. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å¢ƒç•Œ > ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¾¿åˆ©ã•               â”‚
â”‚     â””â”€ ä¾¿åˆ©ã ã‹ã‚‰ã¨å±¤ã®ä¾å­˜ãƒ«ãƒ¼ãƒ«ã‚’ç ´ã‚‰ãªã„                      â”‚
â”‚                                                                 â”‚
â”‚  2. ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å˜ä½ = ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®å˜ä½                 â”‚
â”‚     â””â”€ ä¸€è‡´ã•ã›ã‚‹ã“ã¨ã§æ··ä¹±ã‚’é˜²ã                                â”‚
â”‚                                                                 â”‚
â”‚  3. å…±æœ‰ã‚³ãƒ¼ãƒ‰(shared/)ã¯æœ€å°é™ã«                             â”‚
â”‚     â””â”€ æœ¬å½“ã«è¤‡æ•°ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã§ä½¿ã†ã‚‚ã®ã®ã¿                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Part 2 ã¾ã¨ã‚ [L1]

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Part 2: è¨­è¨ˆæŒ‡é‡ ã¾ã¨ã‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ â”‚ â”‚ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«   â”‚ â”‚ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£â”‚               â”‚
â”‚  â”‚ã‚µã‚¤ã‚º       â”‚ â”‚åˆ†å‰²        â”‚ â”‚             â”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚ 1ãƒ•ã‚¡ã‚¤ãƒ«   â”‚ â”‚ ä½œæ¥­å˜ä½=  â”‚ â”‚ æ˜Žç¢ºãªå¢ƒç•Œ â”‚               â”‚
â”‚  â”‚ ã€œ10,000å­— â”‚ â”‚ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆâ”‚ â”‚ å˜æ–¹å‘ä¾å­˜ â”‚               â”‚
â”‚  â”‚ ä¼šè©±åˆè¨ˆ    â”‚ â”‚ å˜ä½       â”‚ â”‚ å°ã•ãªå˜ä½ â”‚               â”‚
â”‚  â”‚ ã€œ30,000å­— â”‚ â”‚            â”‚ â”‚            â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚åž‹è¨­è¨ˆæŒ‡é‡   â”‚ â”‚ã‚³ãƒ­ã‚±ãƒ¼ã‚·ãƒ§ãƒ³â”‚ â”‚ã‚³ã‚¹ãƒˆæœ€é©åŒ–â”‚               â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚ Branded Typeâ”‚ â”‚ é–¢é€£ã™ã‚‹    â”‚ â”‚ .claudeignoreâ”‚              â”‚
â”‚  â”‚ Resultåž‹   â”‚ â”‚ ã‚‚ã®ã‚’è¿‘ãã«â”‚ â”‚ ã§é™¤å¤–     â”‚               â”‚
â”‚  â”‚ zodæ¤œè¨¼    â”‚ â”‚ é…ç½®       â”‚ â”‚ å¿…è¦ãªæƒ…å ± â”‚               â”‚
â”‚  â”‚ strict:trueâ”‚ â”‚            â”‚ â”‚ ã ã‘èª­è¾¼   â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  æ ¸å¿ƒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:                                                â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”                                                  â”‚
â”‚  ã€Œãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å°ã•ãã€è¿‘ãã«ã€                                â”‚
â”‚  ã€Œåž‹ã¯Claudeã¸ã®ä»•æ§˜æ›¸ â€” æ›–æ˜§ãªè¨€è‘‰ã‚ˆã‚Šæ­£ç¢ºã«ä¼ã‚ã‚‹ã€           â”‚
â”‚  ã€Œè«–ç†çš„ã«æ­£ã—ãã€ç‰©ç†çš„ã«ã‚‚æ‰±ã„ã‚„ã™ãã€                        â”‚
â”‚                                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â†’ Part 3(å®Ÿè·µæ‰‹æ³•)ã§ã¯ã€æ—¥ã€…ã®é–‹ç™ºã§ä½¿ã†å…·ä½“çš„ãª              â”‚
â”‚    æ‰‹æ³•ã‚’è§£èª¬ã—ã¾ã™ã€‚                                            â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

å‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [Part 1: ãƒžã‚¤ãƒ³ãƒ‰ã‚»ãƒƒãƒˆ](./01-mindset.md)
æ¬¡ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: [Part 3: å®Ÿè·µæ‰‹æ³•](./03-practices.md)
