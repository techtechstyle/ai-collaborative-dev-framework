## 4. Claudeの特性と限界 [L1]

### 核心:得意と苦手を理解して適切に使う

Claudeは万能ではない。特性を理解することで、効果的な協働が可能になる。

### AIの2つの使い方 — ティーチングとコーチング

AIの使い方は「教えてもらう」だけではありません。
**思考を整理する壁打ち相手**としても使えます。

```
┌─────────────────────────────────────────────────────────────────┐
│                    AIの2つの使い方                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ティーチングモード              コーチングモード                │
│  ──────────────────              ────────────────                │
│  Claude → 人間（教えてもらう）   人間 ⇄ Claude（対話で整理）    │
│                                                                 │
│  使う場面:                       使う場面:                      │
│  ・「〇〇って何?」              ・「考えを整理したい」          │
│  ・「〇〇の書き方を教えて」      ・「判断基準を明確にしたい」    │
│  ・「エラーの原因を教えて」      ・「優先度を決めたい」          │
│                                                                 │
│  得られるもの:                   得られるもの:                  │
│  ・知識                          ・自分の考えの言語化           │
│  ・技術                          ・暗黙知の形式知化             │
│  ・ベストプラクティス            ・判断理由の明確化             │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

**コーチングモードの例**:
```
「マイクロサービス vs モノリスの判断を整理したいです。

私の現在の傾向: モノリスから始める
理由(まだ曖昧): チームが小さい、ドメインが固まっていない

お願い:
- 私の理由を深掘りする質問をしてください
- 判断基準を明確にする手伝いをしてください
- 最終判断は私がします」
```

**ポイント**: 答えを求めるのではなく、「自分の考えを整理する相手」として使う。
設計判断、優先度決定など「正解がない問題」で特に有効。

> 💡 詳細は [Part 4: 相互学習モデル](./04-growth-adoption.md#17-相互学習モデルaiとの責任あるパートナーシップ) を参照。

### Claudeの特性マップ

```
┌─────────────────────────────────────────────────────────────────┐
│                    Claudeの特性マップ                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ✅ 得意なこと                  ❌ 苦手なこと                    │
│  ─────────────                  ─────────────                    │
│  ・コード生成                   ・長いコードの一貫性維持        │
│  ・リファクタリング             ・途中で前提を忘れる            │
│  ・テスト作成                   ・曖昧な指示の解釈              │
│  ・ドキュメント作成             ・暗黙の前提の把握              │
│  ・コードレビュー               ・ビジネス判断                  │
│  ・設計パターン提案             ・最新API/ライブラリ情報        │
│  ・エラー解析                   ・実行環境固有の問題            │
│  ・要約・変換                   ・存在しないAPIの生成           │
│                                 ・複雑な依存関係の追跡          │
│                                                                 │
│  → 苦手な部分は「検証」と「CLAUDE.md」でカバー                   │
└─────────────────────────────────────────────────────────────────┘
```

### カテゴリ別の詳細

#### コンテキストの限界

| 苦手な点 | 具体例 | 対策 |
|---------|--------|------|
| 長いコードで細部を見落とす | 500行超のファイルで後半のバグを見逃す | ファイルを300行以下に分割 |
| 会話が長くなると前半を忘れる | 最初の指示と矛盾した実装をする | 重要な決定はCLAUDE.mdに記録 |
| 複数ファイルの整合性維持 | ファイルAの変更がファイルBに反映されない | 小さな単位で検証を挟む |

#### 知識の限界

| 苦手な点 | 具体例 | 対策 |
|---------|--------|------|
| 最新情報を知らない | 新しいライブラリのAPIを誤る | 公式ドキュメントを参照させる |
| 存在しないAPIを生成 | 実在しないメソッドを自信満々に書く | typecheckで必ず検証 |
| 社内固有の知識がない | 独自フレームワークの使い方を知らない | CLAUDE.mdに記載 |

#### 判断・推論の限界

| 苦手な点 | 具体例 | 対策 |
|---------|--------|------|
| ビジネス判断ができない | 優先度、ROI、市場状況を考慮できない | 人間が判断して指示 |
| 過度に自信を持つ | 間違った実装を「正しい」と言い切る | 検証で必ず確認 |
| エッジケースの見落とし | 正常系は完璧だが異常系が抜ける | 「エッジケースも考慮して」と明示 |
| 複雑な依存関係の把握 | 循環参照や間接的な影響を見逃す | アーキテクチャ図を提供 |

#### 実行環境の制約

| 苦手な点 | 具体例 | 対策 |
|---------|--------|------|
| 実際に動作確認できない | 「動くはず」が動かない | 人間またはCI/CDで検証 |
| 環境固有の問題がわからない | OS、バージョン差異による問題 | 環境情報をCLAUDE.mdに記載 |
| パフォーマンス特性がわからない | 理論上正しいが実際は遅いコード | ベンチマークで検証 |

#### 一貫性の維持

| 苦手な点 | 具体例 | 対策 |
|---------|--------|------|
| 会話間で記憶が引き継がれない | 昨日決めたことを今日忘れている | CLAUDE.mdに蓄積 |
| 同じ質問に違う回答をする | 命名規則が毎回変わる | コーディングルールを明文化 |
| 前回の修正を忘れる | 直したバグを再度混入させる | 禁止事項として記録 |

### Claudeの誤りの種類とレビュー観点

Claudeが犯しやすい誤りを理解すると、レビューの観点が明確になる。

```
┌─────────────────────────────────────────────────────────────────┐
│                    Claudeの誤りの種類                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  誤りの種類        説明                  レビュー観点           │
│  ────────────      ────────              ──────────────         │
│                                                                 │
│  幻覚              存在しないAPIや       → typecheckで検出      │
│  (Hallucination)   メソッドを生成する    → 公式ドキュメント照合 │
│                                                                 │
│  過剰一般化        似たパターンを        → 要件との照合         │
│  (Over-           誤って適用する         → 個別ケースの確認     │
│   generalization)                                               │
│                                                                 │
│  過剰自信          誤りを断言する        → 必ず検証する         │
│  (Overconfidence)  「これが正しい」      → 複数の視点で確認     │
│                                                                 │
│  省略              エッジケースや        → テストで確認         │
│  (Omission)        例外処理を抜かす      → 「異常系は?」と質問 │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

### 誤りの種類別:発見方法と対策

| 誤りの種類 | 発見方法 | 対策 |
|-----------|---------|------|
| 幻覚 | typecheck失敗、APIドキュメント照合 | 「このAPIの公式ドキュメントを確認して」 |
| 過剰一般化 | 要件との差異、テスト失敗 | 「この要件の特殊な点を考慮して」 |
| 過剰自信 | 検証で失敗するが自信満々 | 「動作を検証して結果を教えて」 |
| 省略 | 異常系テスト失敗、レビュー | 「エッジケースと異常系も実装して」 |

### 型システムによる誤り検出

**型はClaudeの誤りを検出する最初の防衛線。**
適切な型設計により、多くの誤りをコンパイル時に検出できる。

| Claudeの誤り | 型による検出方法 | 具体例 |
|-------------|-----------------|-------|
| 幻覚(存在しないAPI) | 型エラーで即座に検出 | `Property 'nonExistent' does not exist` |
| 過剰一般化(型の不一致) | 引数・戻り値の型チェック | `Type 'string' is not assignable to type 'UserId'` |
| 省略(エッジケース漏れ) | Discriminated Unionの網羅性チェック | `Not all code paths return a value` |
| ID取り違え | Branded Typeで防止 | `Argument of type 'OrderId' is not assignable to parameter of type 'UserId'` |

> 💡 型設計の詳細は [Part 2: セクション10「型設計指針」](./02-design-principles.md#10-型設計指針aiとの契約としての型) を参照。

### 特性を踏まえた使い方

```
┌─────────────────────────────────────────────────────────────────┐
│                   効果的なClaudeの使い方                         │
│                                                                 │
│  1. 小さく分割して依頼する                                       │
│     └─ 一度に大量のコードを書かせない                            │
│                                                                 │
│  2. 必ず検証する                                                 │
│     └─ typecheck, lint, test で確認                             │
│                                                                 │
│  3. 重要な情報はCLAUDE.mdに記録                                  │
│     └─ 会話を跨いでも忘れない仕組み                              │
│                                                                 │
│  4. 曖昧さを排除した指示を出す                                   │
│     └─ 具体的に、明示的に                                        │
│                                                                 │
│  5. 最新情報は参照させる                                         │
│     └─ 公式ドキュメントのURLを提供                               │
│                                                                 │
│  6. 誤りの種類を意識してレビューする                             │
│     └─ 幻覚、過剰一般化、過剰自信、省略                          │
└─────────────────────────────────────────────────────────────────┘
```

---


---

← [準備量と経験](./01a-preparation.md) | [タスク分解](./01c-task-decomposition.md) →
