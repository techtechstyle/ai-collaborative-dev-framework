# v3.0 移行ガイド: 哲学構造の階層化

> **対象読者**: v2.x以前のガイドを利用していた方
> 
> **所要時間**: 約15分

---

## 変更の概要

v3.0では、**4つの哲学の構造を「並列」から「階層」に再編成**しました。

```
【v2.x まで】                    【v3.0】
                                
┌─────────────────────────┐     ┌─────────────────────────────────────┐
│  4つの哲学(並列)        │     │  哲学の階層構造                     │
├─────────────────────────┤     ├─────────────────────────────────────┤
│                         │     │                                     │
│  シンプルさ    ←競合→  │     │  L0【目的】持続可能性              │
│  急がば回れ    ←競合→  │     │        ↓                           │
│  心理的安全性  ←競合→  │     │  L1【環境】心理的安全性            │
│  持続可能性             │     │        ↓                           │
│                         │     │  L2【態度】急がば回れ              │
│  ※競合時は状況で判断    │     │        ↓                           │
│                         │     │  L3【手段】シンプルさ              │
│                         │     │                                     │
│                         │     │  ※上位が常に優先(競合は発生しない)│
└─────────────────────────┘     └─────────────────────────────────────┘
```

---

## なぜ変更したのか

### 発見された問題

v2.xまでのガイドでは、4つの哲学を「同列で支え合う関係」として説明していました。しかし、実際に使う中で以下の問題が発覚しました:

| 問題 | 具体例 |
|-----|--------|
| **競合が発生する** | 「検証を増やす(急がば回れ)」vs「シンプルに保つ(シンプルさ)」 |
| **判断が属人化する** | 同じ状況でも人によって優先する哲学が異なる |
| **システム化できない** | ワークフローに組み込もうとすると「競合時の判断」が障害になる |

### 根本原因

分析の結果、**4つの哲学は「同じ問い」に答えていない**ことが判明しました:

| 哲学 | 答えている問い | 性質 | 抽象度 |
|-----|--------------|------|--------|
| 持続可能性 | なぜやるのか? | 目的 | 高 |
| 心理的安全性 | どんな環境で? | 条件 | 中 |
| 急がば回れ | どんな姿勢で? | 態度 | 中 |
| **シンプルさ** | **どうやって?** | **手段** | **低** |

「シンプルさ」だけが他の3つと抽象度が異なります。異なるレイヤーの概念を同列に並べていたことが、構造的な矛盾の原因でした。

---

## 変更点の詳細

### 1. 哲学の順序と位置づけ

| v2.x | v3.0 |
|------|------|
| 1. シンプルさ | Level 0【目的】持続可能性 |
| 2. 急がば回れ | Level 1【環境】心理的安全性 |
| 3. 心理的安全性 | Level 2【態度】急がば回れ |
| 4. 持続可能性 | Level 3【手段】シンプルさ |

**ポイント**: 掲載順序が逆転しています。上位(目的)から下位(手段)へ。

### 2. 判断方法の変更

| v2.x | v3.0 |
|------|------|
| 競合時は3つの問いで判断 | 上位Levelが常に優先 |
| 状況に応じて柔軟に選択 | 階層に沿って一意に決定 |
| 判断が属人化しやすい | 判断が一貫する |

### 3. 削除されたセクション

**「哲学が競合した場合の判断指針」(約117行)** が削除されました。

**理由**: 階層構造では競合が構造的に発生しないため、このセクションは不要になりました。

### 4. 維持されるもの

| 項目 | 状態 |
|-----|------|
| 4つの哲学名 | ✅ 維持(シンプルさ、急がば回れ、心理的安全性、持続可能性) |
| 12の原則 | ✅ 維持(S1-S3, H1-H3, P1-P3, G1-G3) |
| 原則のコード | ✅ 維持(参照先は変更なし) |
| 具体的な実践 | ✅ 維持(1文1検証、損切り、CLAUDE.mdなど) |

---

## 新しい判断フロー

v3.0では、判断が階層に沿って一意に決まります。

```
┌─────────────────────────────────────────────────────────────────┐
│                    階層判断フロー                               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  判断が必要な状況                                               │
│          │                                                      │
│          ↓                                                      │
│  L0 チェック: 持続可能性に寄与するか?                         │
│          │       「1年後のチームにプラスか?」                  │
│          │                                                      │
│     No ──┼─→ その選択肢は却下                                  │
│          │                                                      │
│          ↓ Yes                                                  │
│  L1 チェック: 心理的安全性を損なわないか?                     │
│          │       「誰かが萎縮しないか?」                       │
│          │                                                      │
│     No ──┼─→ 萎縮しない方法を検討                              │
│          │                                                      │
│          ↓ Yes                                                  │
│  L2 チェック: 急がば回れを実践できるか?                       │
│          │       「丁寧さを保てるか?」                         │
│          │                                                      │
│     No ──┼─→ 丁寧にできる範囲に縮小                            │
│          │                                                      │
│          ↓ Yes                                                  │
│  L3 チェック: シンプルさの範囲内か?                           │
│          │       「1文1検証を満たせるか?」                     │
│          │                                                      │
│     No ──┼─→ よりシンプルな方法を選択                          │
│          │                                                      │
│          ↓ Yes                                                  │
│  ✅ 実行可能                                                    │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘
```

---

## 既存読者への影響

### 影響が小さい方

- 12原則(S1-S3など)を中心に実践していた方
- 「1文1検証」「損切り」などの具体的手法を使っていた方
- CLAUDE.mdを育てていた方

**理由**: 具体的な実践は変わりません。哲学の「捉え方」が変わるだけです。

### 影響がある方

- 「哲学が競合した場合の判断指針」を活用していた方
- 哲学間のトレードオフを意識的に行っていた方

**移行方法**: 下記の「よくある質問」を参照してください。

---

## よくある質問(FAQ)

### Q1: 「シンプルにしたいが、持続可能性を考えるとドキュメントが必要」という場合は?

**A**: これは競合ではありません。階層構造では以下のように判断します:

1. **L0(持続可能性)**: ドキュメントは1年後のチームにプラスか? → **Yes**
2. **L3(シンプルさ)**: L0を満たした上で、シンプルに書けるか? → シンプルに書く

**結論**: ドキュメントを書く。ただしシンプルに。

### Q2: 「検証を増やしたいが、シンプルに保ちたい」という場合は?

**A**: L2(急がば回れ)がL3(シンプルさ)より上位です。

1. **L2(急がば回れ)**: 検証を挟むことで丁寧さを保てるか? → **Yes**
2. **L3(シンプルさ)**: L2を満たした上で、検証をシンプルにできるか? → 各検証を1回で確認できる形に

**結論**: 検証を挟む。ただし各検証はシンプルに。

### Q3: 「損切りを強制すると心理的安全性が下がる」という場合は?

**A**: L1(心理的安全性)がL2(急がば回れ)より上位です。

1. **L1(心理的安全性)**: 損切りの伝え方で萎縮しないか? → 検討が必要
2. **L2(急がば回れ)**: L1を満たした上で、損切り基準を明確にできるか? → 客観的基準(3往復/30分)を設ける

**結論**: 損切りは適用する。ただし「判断であり敗北ではない」と伝える(P2原則)。

### Q4: v2.xで作成したCLAUDE.mdは修正が必要?

**A**: 基本的には**修正不要**です。

- 12原則(S1-S3など)への参照は有効
- 具体的な実践(1文1検証、損切り基準など)は変更なし
- 「哲学間のトレードオフ」を記録していた場合のみ、「階層に基づく判断」に書き換え推奨

### Q5: チームに展開済みの場合、再研修が必要?

**A**: **軽めの共有で十分**です。

推奨する共有内容:
1. 「4つの哲学」→「哲学の階層構造」への変更を説明(5分)
2. 新しい判断フロー(上位優先)を共有(5分)
3. 「実践は変わらない」ことを強調

---

## 12原則の変更点

### コード(識別子)

| 原則 | コード | 変更 |
|-----|-------|------|
| シンプルさの原則 | S1, S2, S3 | **維持** |
| 急がば回れの原則 | H1, H2, H3 | **維持** |
| 心理的安全性の原則 | P1, P2, P3 | **維持** |
| 持続可能性の原則 | G1, G2, G3 | **維持** |

### 掲載順序

| v2.x | v3.0 |
|------|------|
| S1-S3 → H1-H3 → P1-P3 → G1-G3 | G1-G3 → P1-P3 → H1-H3 → S1-S3 |
| (哲学の掲載順) | (階層順:上位から下位) |

### 追加された列

各原則に「判断基準」列が追加されました:

| 原則 | 判断基準 |
|-----|---------|
| G1 任せるだけでなく学ぶ | このコードを自分で説明できるか? |
| P1 責めない・記録する | 失敗を隠していないか? |
| H1 設計→実装→検証 | 検証を挟んでいるか? |
| S1 1文1検証 | 1文で説明できるか? |

---

## 移行チェックリスト

### 個人での移行

- [ ] 新しい階層構造を理解した
- [ ] 判断フロー(上位優先)を確認した
- [ ] 既存のCLAUDE.mdに「階層に基づく判断」を反映(任意)

### チームでの移行

- [ ] チームに変更点を共有した
- [ ] 新しい判断フローを合意した
- [ ] 共有CLAUDE.mdを更新した(任意)
- [ ] 「実践は変わらない」ことを確認した

---

## 付録: 変更されたファイル一覧

| ファイル | 変更内容 |
|---------|---------|
| 00-philosophy.md | 大幅書き換え(階層構造への再編成) |
| 01-mindset.md | 「このPartと4つの哲学」テーブルを階層形式に変更 |
| 02-design-principles.md | 同上 |
| 03-practices.md | 同上 |
| 04-growth-adoption.md | 同上 |
| appendix-d-tooling-reference.md | ツール#14を「階層判断フロー」に書き換え |
| README.md | 「本フレームワークの哲学」を階層形式に変更 |
| CHANGELOG.md | v3.0エントリを追加 |

---

## v3.0 → v3.1 の移行

> **所要時間**: 約5分
> 
> **影響**: 追加のみ。既存の実践に変更なし。

### 変更の概要

v3.1では、人間とAIの健全な協働関係をより明確に定義するため、以下の概念が追加されました。

| 追加内容 | 説明 |
|---------|------|
| **増強の哲学** | 「AIは人間を置き換えるのではなく増強する」というメタ哲学 |
| **可逆性の原則(R1-R3)** | 「いつでもAIなしに戻れる」状態を維持する3原則 |
| **Bright Lines(BL1-BL4)** | 絶対に越えてはいけない4つの一線 |
| **ツール#15** | 可逆性チェック(月次の定期確認用) |

### 原則の拡張

| v3.0 | v3.1 |
|------|------|
| 12の原則(G1-G3, P1-P3, H1-H3, S1-S3) | 15の原則(R1-R3を追加) |

### 可逆性の原則(R1-R3)

| # | 原則 | 確認方法 |
|---|------|---------|
| R1 | スキルの可逆性 | 「このコード、自分で書けるか?」 |
| R2 | プロセスの可逆性 | 「AIなしでも手順は成立するか?」 |
| R3 | 判断の可逆性 | 「この判断を覆す根拠を説明できるか?」 |

### Bright Lines(BL1-BL4)

| # | 絶対的禁止事項 |
|---|---------------|
| BL1 | 人間の最終判断権を放棄する |
| BL2 | 検証なしで本番環境に適用する |
| BL3 | 理解せずにコードを採用する |
| BL4 | AIの出力を盲目的に信頼する |

### 移行チェックリスト

- [ ] 増強の哲学を理解した
- [ ] 可逆性の原則(R1-R3)を確認した
- [ ] Bright Lines(BL1-BL4)を確認した
- [ ] 月次の可逆性チェックをカレンダーに追加した(任意)

### 既存のCLAUDE.mdへの影響

**修正不要**です。v3.1の追加内容は、既存の実践を補完するものであり、変更するものではありません。

必要に応じて、以下をCLAUDE.mdに追記することを推奨します:

```markdown
## Bright Lines(絶対的禁止)
- 検証なしで本番適用しない
- 理解せずにコードを採用しない
- 「Claudeが言ったから」を最終判断理由にしない
```

---

## サポート

移行についてご不明点があれば、以下の方法でお問い合わせください:

- GitHub Issues での質問
- CHANGELOGの詳細確認

---

*移行ガイド作成日: 2026-02-01*
*対象バージョン: v2.x → v3.0 → v3.1*
